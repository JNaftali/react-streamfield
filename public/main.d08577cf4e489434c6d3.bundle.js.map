{"version":3,"sources":["webpack:///./src/AddButton.js","webpack:///./src/actions.js","webpack:///./src/RawHtmlFieldInput.js","webpack:///./src/FieldInput.js","webpack:///./src/StructChildField.js","webpack:///./src/BlockContent.js","webpack:///./src/BlockActions.js","webpack:///./src/BlockHeader.js","webpack:///./src/Block.js","webpack:///./src/BlocksContainer.js","webpack:///./src/StreamField.js","webpack:///./src/processing/conversions.js","webpack:///./src/processing/utils.js","webpack:///./example/samples.js","webpack:///./.storybook/config.js","webpack:///./example/example.scss?1985","webpack:///./example/example.scss","webpack:///./src/scss/index.scss?dfe1","webpack:///./src/scss/index.scss","webpack:///./example/index.story.js","webpack:///./src/processing/reducers.js","webpack:///./src/reducer.js"],"names":["AddButton","connect","state","props","blockDefinitions","fieldId","parentId","blockId","field","getNestedBlockDefinition","children","index","getSiblingsIds","indexOf","icons","labels","dispatch","bindActionCreators","addBlock","blockType","type","_this","_classCallCheck","this","_getPrototypeOf","call","_defineProperty","_assertThisInitialized","event","preventDefault","stopPropagation","hasChoice","setState","open","key","target","closest","value","toggle","React","Component","blockDefinition","icon","isNA","react_default","a","createElement","className","dangerouslySetInnerHTML","__html","_this2","_this$props","visible","button","onClick","title","add","classNames","Fragment","AnimateHeight_default","height","panelHeight","easing","contentClassName","Object","entries","groupedBlockDefinitions","map","_ref","_ref2","_slicedToArray","group","addHandler","getIcon","getLabel","length","grouped","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","others","push","err","return","RawHtmlFieldInput","input","files","inputs","filter","box","checked","tagName","options","selectedIndex","changeBlockValue","shouldRunInnerScripts","script","ReactDOM","findDOMNode","querySelectorAll","parentNode","removeChild","window","eval","innerHTML","includes","dispatchEvent","Event","observer","MutationObserver","observe","attributes","attributeFilter","mutationObservers","addEventListener","onChange","removeEventListener","isStatic","name","getFieldName","_toConsumableArray","concat","Error","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","setValue","bindChange","removeAttribute","runInnerScripts","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","disconnect","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","unbindChange","html","_this$props2","replace","FieldInput","block","blocks","isStruct","src_Block","id","standalone","sortable","collapsible","isField","src_RawHtmlFieldInput","blocksContainer","src_BlocksContainer","replaceWithComponent","StructChildField","parentBlockId","find","childBlockId","required","htmlFor","src_FieldInput","BlockContent","fieldData","hasDescendantError","getDescendantsIds","some","descendantBlockId","hasError","isSimpleLayout","isMobile","closed","content","childBlockDefinition","src_StructChildField","BlockActions","siblings","hideBlock","duplicateBlock","dragHandle","dragHandleRef","current","triggerKeyboardEvent","Promise","resolve","setTimeout","sendKeyToDragHandle","then","triggerCustomEvent","data","arguments","sortableBlock","canDuplicate","moveUpHandler","moveUp","disabled","isFirst","moveDownHandler","moveDown","isLast","duplicateHandler","duplicate","deleteHandler","delete","BlockHeader","structValueToObject","toggleBlock","dragHandleProps","collapsibleBlock","grip","titleAndType","src_BlockActions","_extends","ref","_this$props3","titleTemplate","hasVariables","isEmpty","renderedTitle","match","varName","childValue","Block","layout","getLayout","parent","hidden","shouldUpdate","blockUpdated","showBlock","deleteBlock","Block_classCallCheck","Block_getPrototypeOf","Block_defineProperty","Block_assertThisInitialized","createRef","contentRef","nextProps","prevProps","blockContent","canAdd","blockClassName","addButton","src_AddButton","react_beautiful_dnd_cjs","draggableId","provided","Block_extends","innerRef","draggableProps","src_BlockHeader","src_BlockContent","draggableHeight","onAnimationEnd","onDraggableContainerAnimationEnd","wrapSortable","BlocksContainer","minNum","maxNum","blocksIds","rootBlocks","gutteredAdd","droppableId","snapshot","isDraggingOver","renderBlock","placeholder","lazyFunction","f","apply","BlockDefinitionType","PropTypes","shape","string","isRequired","label","bool","default","any","number","oneOf","dangerouslyRunInnerScripts","arrayOf","BlockValueType","oneOfType","StreamFieldDefaultProps","StreamField","generatedValue","stateToValue","initializeStreamField","setIsMobile","moveBlock","newIndex","getIsMobile","result","source","destination","reason","document","querySelector","defaultProps","_objectSpread","onWindowResize","onDragEnd","JSON","stringify","getNestedBlocksState","childrenBlocksIds","blocksState","descendantsBlocksState","getNewId","getBlockDefinition","blockIsField","_loop","childBlockType","childBlock","_getNewBlock2","getNewBlock","extraBlocks","_getNestedBlocksState2","isClosed","valueToState","prevState","_getNestedBlocksState4","_arr2","values","_i2","extractValue","uuidv4","matchMedia","matches","toUpperCase","substring","getChildrenIds","parentBlockDefinition","descendants","TypeError","includeSelf","ancestors","reverse","getAncestorsIds","structValue","obj","childExtraBlocks","newValue","childDefaultValue","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","childDefault","_iterator5","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","_getNewBlock4","deepCopy","copy","FileList","Array","v","_arr2$_i","applyToBlocks","func","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","applyToBlock","element","bubbles","cancelable","keyIdentifier","keyCode","which","CustomEvent","detail","component","parts","split","RegExp","i","part","react__WEBPACK_IMPORTED_MODULE_13___default","__webpack_require__","d","__webpack_exports__","complexNestedStreamField","r","module","_storybook_react__WEBPACK_IMPORTED_MODULE_0__","configure","require","hmr","transform","insertInto","undefined","locals","exports","version","sources","names","mappings","file","sourcesContent","sourceRoot","store","createStore","streamFieldReducer","applyMiddleware","thunk","storiesOf","addDecorator","story","react__WEBPACK_IMPORTED_MODULE_2___default","react_redux__WEBPACK_IMPORTED_MODULE_4__","_src__WEBPACK_IMPORTED_MODULE_10__","updateChildren","childrenIds","setChildren","insertBlock","siblingsIds","splice","cloneBlock","newBlockId","newBlock","newBlocks","_cloneBlock2","newChildId","newChildrenBlocks","_cloneBlock4","newChildBlockId","_cloneBlock6","getIndex","initialState","action","reducer_objectSpread","reducer_defineProperty","oldIndex","shouldUpdateSiblings","parentBlock"],"mappings":"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","file":"main.d08577cf4e489434c6d3.bundle.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport AnimateHeight from 'react-animate-height';\nimport {addBlock} from './actions';\nimport {\n  getLabel,\n  getNestedBlockDefinition,\n  getSiblingsIds, isNA\n} from './processing/utils';\n\n\n@connect((state, props) => {\n  const {fieldId, parentId, blockId} = props;\n  const field = state[fieldId];\n  let blockDefinitions;\n  if (parentId) {\n    blockDefinitions = getNestedBlockDefinition(state, fieldId,\n                                                parentId).children;\n  } else {\n    blockDefinitions = field.blockDefinitions;\n  }\n\n  let index = 0;\n  if (blockId !== undefined) {\n    // Incremented by 1 to add after the current block.\n    index = getSiblingsIds(state, fieldId, blockId).indexOf(blockId) + 1;\n  }\n\n  return {\n    blockDefinitions, index,\n    icons: field.icons,\n    labels: field.labels,\n  };\n}, (dispatch, props) => {\n  const {fieldId, parentId} = props;\n  return bindActionCreators({\n    addBlock: (index, blockType) => addBlock(fieldId, parentId,\n                                             index, blockType),\n  }, dispatch);\n})\nclass AddButton extends React.Component {\n  static propTypes = {\n    fieldId: PropTypes.string.isRequired,\n    parentId: PropTypes.string,\n    blockId: PropTypes.string,\n    open: PropTypes.bool,\n    visible: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    open: false,\n    visible: true,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {open: props.open};\n  }\n\n  get hasChoice() {\n    return this.props.blockDefinitions.length !== 1;\n  }\n\n  toggle = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    if (this.hasChoice) {\n      this.setState((state, props) => ({open: !state.open}));\n    } else {\n      this.props.addBlock(this.props.index,\n                          this.props.blockDefinitions[0].key);\n    }\n  };\n\n  addHandler = event => {\n    this.props.addBlock(this.props.index,\n                        event.target.closest('button').value);\n    this.toggle(event);\n  };\n\n  getIcon(blockDefinition) {\n    const {icon} = blockDefinition;\n    if (isNA(icon)) {\n      return null;\n    }\n    return <span className=\"c-sf-button__icon\" dangerouslySetInnerHTML={\n      {__html: icon}\n    } />;\n  }\n\n  get panelHeight() {\n    return this.state.open && this.props.visible ? 'auto' : 0;\n  }\n\n  get groupedBlockDefinitions() {\n    const grouped = {};\n    for (const blockDefinition of this.props.blockDefinitions) {\n      const key = blockDefinition.group || '';\n      const others = grouped[key] || [];\n      others.push(blockDefinition);\n      grouped[key] = others;\n    }\n    return grouped;\n  }\n\n  render() {\n    const {visible, icons, labels} = this.props;\n    const button = (\n      <button\n        onClick={this.toggle} title={labels.add}\n        className={classNames(\n          'c-sf-add-button', visible && 'c-sf-add-button--visible',\n          (this.state.open && this.hasChoice) && 'c-sf-add-button--closed')}\n        dangerouslySetInnerHTML={{__html: icons.add}}>\n      </button>\n    );\n    if (this.hasChoice) {\n      return (\n        <>\n          {button}\n          <AnimateHeight height={this.panelHeight} easing=\"ease-in-out\"\n                         contentClassName=\"c-sf-add-panel\">\n            {Object.entries(this.groupedBlockDefinitions).map(\n              ([group, blockDefinitions]) => (\n                <div key={group}>\n                  {group ? <h4 className=\"c-sf-add-panel__group-title\">{group}</h4> : null}\n                  {blockDefinitions.map(blockDefinition =>\n                    <button key={blockDefinition.key} onClick={this.addHandler}\n                            value={blockDefinition.key} className=\"c-sf-button\">\n                      {this.getIcon(blockDefinition)}\n                      <span className=\"c-sf-button__label\">{getLabel(blockDefinition)}</span>\n                    </button>\n                  )}\n                </div>\n            ))}\n          </AnimateHeight>\n        </>\n      );\n    }\n    return button;\n  }\n}\n\n\nexport default AddButton;\n","export const initializeStreamField = (id, data) => ({\n  type: 'INITIALIZE_STREAM_FIELD',\n  id, data,\n});\n\n\nexport const setIsMobile = (id, isMobile) => ({\n  type: 'SET_IS_MOBILE',\n  id, isMobile,\n});\n\n\nexport const blockUpdated = (fieldId, blockId) => ({\n  type: 'BLOCK_UPDATED',\n  fieldId, blockId,\n});\n\n\nexport const changeBlockValue = (fieldId, blockId, value) => ({\n  type: 'CHANGE_BLOCK_VALUES',\n  fieldId, blockId,\n  value,\n});\n\n\nexport const toggleBlock = (fieldId, blockId) => ({\n  type: 'TOGGLE_BLOCK',\n  fieldId, blockId,\n});\n\n\nexport const showBlock = (fieldId, blockId) => dispatch => {\n  return new Promise(resolve => {\n    setTimeout(resolve, 0.001);\n  }).then(() => {\n    dispatch({\n      type: 'SHOW_BLOCK',\n      fieldId, blockId,\n    });\n  });\n};\n\n\nexport const hideBlock = (fieldId, blockId) => ({\n  type: 'HIDE_BLOCK',\n  fieldId, blockId,\n});\n\n\nexport const addBlock = (fieldId, parentId, index, blockType) => ({\n  type: 'ADD_BLOCK',\n  fieldId, parentId, index, blockType,\n});\n\n\nexport const duplicateBlock = (fieldId, blockId) => ({\n  type: 'DUPLICATE_BLOCK',\n  fieldId, blockId,\n});\n\n\nexport const moveBlock = (fieldId, blockId, newIndex) => ({\n  type: 'MOVE_BLOCK',\n  fieldId, blockId, newIndex,\n});\n\n\nexport const deleteBlock = (fieldId, blockId) => ({\n  type: 'DELETE_BLOCK',\n  fieldId, blockId,\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport {\n  getFieldName,\n  isStatic,\n  shouldRunInnerScripts\n} from './processing/utils';\n\n\nclass RawHtmlFieldInput extends React.Component {\n  static propTypes = {\n    fieldId: PropTypes.string.isRequired,\n    blockDefinition: PropTypes.object.isRequired,\n    blockId: PropTypes.string.isRequired,\n    html: PropTypes.string.isRequired,\n    value: PropTypes.any,\n    changeBlockValue: PropTypes.func.isRequired,\n  };\n\n  runInnerScripts() {\n    if (shouldRunInnerScripts(this.props.blockDefinition)) {\n      for (let script\n           of ReactDOM.findDOMNode(this).querySelectorAll('script')) {\n        script.parentNode.removeChild(script);\n        window.eval(script.innerHTML);\n      }\n    }\n  }\n\n  setValue(input) {\n    const {value} = this.props;\n    if ((value !== undefined) && (value !== null)) {\n      if (input.type === 'file') {\n        input.files = value;\n      } else if ((input.type === 'checkbox') || (input.type === 'radio')) {\n        input.checked = value === null ? false : (\n          typeof value === 'boolean' ? value : value.includes(input.value));\n      } else if (input.type === 'hidden') {\n        input.value = value;\n        input.dispatchEvent(new Event('change'));\n      } else {\n        input.value = value;\n      }\n    }\n  }\n\n  bindChange(input) {\n    if (input.type === 'hidden') {\n      const observer = new MutationObserver(() => {\n        input.dispatchEvent(new Event('change'));\n      });\n      observer.observe(input, {\n        attributes: true, attributeFilter: ['value'],\n      });\n      this.mutationObservers.push(observer);\n    }\n    input.addEventListener('change', this.onChange);\n  }\n\n  unbindChange(input) {\n    input.removeEventListener('change', this.onChange);\n  }\n\n  componentDidMount() {\n    const {blockDefinition, blockId} = this.props;\n    if (!isStatic(blockDefinition)) {\n      const name = getFieldName(blockId);\n      this.inputs = [\n        ...ReactDOM.findDOMNode(this).querySelectorAll(`[name=\"${name}\"]`)];\n      if (this.inputs.length === 0) {\n        throw Error(`Could not find input with name \"${name}\"`);\n      }\n      this.mutationObservers = [];\n      for (let input of this.inputs) {\n        this.setValue(input);\n        this.bindChange(input);\n        // We remove the name attribute to remove inputs from the submitted form.\n        input.removeAttribute('name');\n      }\n    }\n    this.runInnerScripts();\n  }\n\n  componentWillUnmount() {\n    if (!isStatic(this.props.blockDefinition)) {\n      for (let observer of this.mutationObservers) {\n        observer.disconnect();\n      }\n      for (let input of this.inputs) {\n        this.unbindChange(input);\n      }\n    }\n  }\n\n  onChange = event => {\n    const input = event.target;\n    let value;\n    if (input.type === 'file') {\n      value = input.files;\n    } else if (input.type === 'checkbox' || input.type === 'radio') {\n      const boxes = this.inputs;\n      value = boxes.filter(box => box.checked).map(box => box.value);\n    } else if (input.tagName === 'SELECT') {\n      value = input.options[input.selectedIndex].value;\n    } else {\n      value = input.value;\n    }\n    this.props.changeBlockValue(value);\n  };\n\n  get html() {\n    const {blockDefinition, html, blockId} = this.props;\n    if (isStatic(blockDefinition)) {\n      return html;\n    }\n    return html.replace(/__ID__/g, blockId);\n  }\n\n  render() {\n    return (\n      <div dangerouslySetInnerHTML={{__html: this.html}} />\n    );\n  }\n}\n\n\nexport default RawHtmlFieldInput;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {\n  getFieldName,\n  getNestedBlockDefinition,\n  isField, isNA,\n  isStruct, replaceWithComponent\n} from './processing/utils';\nimport {changeBlockValue} from './actions';\nimport Block from './Block';\nimport BlocksContainer from './BlocksContainer';\nimport RawHtmlFieldInput from './RawHtmlFieldInput';\n\n\n@connect((state, props) => {\n  const {fieldId, blockId} = props;\n  const block = state[fieldId].blocks[blockId];\n  return {\n    blockDefinition: getNestedBlockDefinition(state, fieldId, blockId),\n    html: block.html,\n    value: block.value,\n  };\n}, (dispatch, props) => {\n  const {fieldId, blockId} = props;\n  return bindActionCreators({\n    changeBlockValue: value => changeBlockValue(fieldId, blockId, value),\n  }, dispatch);\n})\nclass FieldInput extends React.Component {\n  static propTypes = {\n    fieldId: PropTypes.string.isRequired,\n    blockId: PropTypes.string.isRequired,\n  };\n\n  render() {\n    const {fieldId, blockDefinition, blockId, value} = this.props;\n    if (isStruct(blockDefinition)) {  // Nested StructBlock\n      return (\n        <Block fieldId={fieldId} id={blockId}\n               standalone sortable={false} collapsible={false} />\n      );\n    }\n    let html = this.props.html;\n    if (isNA(html)) {\n      html = blockDefinition.html;\n    }\n    if (isField(blockDefinition)) {\n      if (isNA(html)) {\n        html = `<input id=\"${blockId}\" name=\"${getFieldName(blockId)}\"\n                       type=\"text\" />`;\n      }\n      return (\n        <RawHtmlFieldInput fieldId={fieldId} blockDefinition={blockDefinition}\n                           blockId={blockId} html={html} value={value}\n                           changeBlockValue={this.props.changeBlockValue} />\n      );\n    }\n    const blocksContainer = <BlocksContainer fieldId={fieldId} id={blockId} />;\n    if (isNA(html)) {\n      return blocksContainer;\n    }\n    return replaceWithComponent(\n      html, '<noscript data-blocks-container></noscript>', blocksContainer);\n  }\n}\n\n\nexport default FieldInput;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport {connect} from 'react-redux';\nimport {\n  getFieldName, getLabel,\n  getNestedBlockDefinition,\n} from './processing/utils';\nimport FieldInput from './FieldInput';\n\n\n@connect((state, props) => {\n  const {fieldId, parentBlockId, type} = props;\n  const blocks = state[fieldId].blocks;\n  const parentBlock = blocks[parentBlockId];\n  const blockId = parentBlock.value.find(\n    childBlockId => blocks[childBlockId].type === type);\n  return {\n    blockDefinition: getNestedBlockDefinition(state, fieldId, blockId),\n    blockId,\n  };\n})\nclass StructChildField extends React.Component {\n  static propTypes = {\n    fieldId: PropTypes.string.isRequired,\n    parentBlockId: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n  };\n\n  render() {\n    const {fieldId, blockId, blockDefinition} = this.props;\n    return (\n      <div className={classNames('field',\n                                 !!blockDefinition.required && 'required')}>\n        <label className='field__label' htmlFor={getFieldName(blockId)}>\n          {getLabel(blockDefinition)}\n        </label>\n        <FieldInput fieldId={fieldId} blockId={blockId} />\n      </div>\n    );\n  }\n}\n\n\nexport default StructChildField;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport {connect} from 'react-redux';\nimport AnimateHeight from 'react-animate-height';\nimport {\n  getNestedBlockDefinition,\n  isStruct,\n  getDescendantsIds, isSimpleLayout, replaceWithComponent, isNA,\n} from './processing/utils';\nimport StructChildField from './StructChildField';\nimport FieldInput from './FieldInput';\n\n\n@connect((state, props) => {\n  const {fieldId, blockId} = props;\n  const fieldData = state[fieldId];\n  const blocks = fieldData.blocks;\n  const block = blocks[blockId];\n  const blockDefinition = getNestedBlockDefinition(state, fieldId, blockId);\n  const hasDescendantError = getDescendantsIds(state, fieldId, blockId, true)\n    .some(descendantBlockId => blocks[descendantBlockId].hasError);\n  return {\n    isSimpleLayout: isSimpleLayout(blockDefinition, fieldData.isMobile),\n    blockDefinition,\n    html: block.html,\n    closed: block.closed && !hasDescendantError,\n  };\n})\nclass BlockContent extends React.Component {\n  static propTypes = {\n    fieldId: PropTypes.string.isRequired,\n    blockId: PropTypes.string.isRequired,\n    collapsible: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    collapsible: true,\n  };\n\n  get html() {\n    const {fieldId, blockDefinition, blockId} = this.props;\n    if (isStruct(blockDefinition)) {\n      const blocksContainer = blockDefinition.children.map(\n        childBlockDefinition =>\n          <StructChildField key={childBlockDefinition.key} fieldId={fieldId}\n                            parentBlockId={blockId}\n                            type={childBlockDefinition.key}/>\n      );\n      let html = this.props.html;\n      if (isNA(html)) {\n        html = blockDefinition.html;\n      }\n      if (isNA(html)) {\n        return blocksContainer;\n      }\n      return replaceWithComponent(\n        html, '<noscript data-blocks-container></noscript>',\n        blocksContainer);\n    }\n    return <FieldInput fieldId={fieldId} blockId={blockId} />;\n  }\n\n  get height() {\n    return this.props.closed ? 0 : 'auto';\n  }\n\n  render() {\n    const {isSimpleLayout, blockDefinition, collapsible} = this.props;\n    const content = this.html;\n    const className = classNames('c-sf-block__content-inner', blockDefinition.className);\n    if (collapsible && !isSimpleLayout) {\n      return (\n        <AnimateHeight height={this.height} easing=\"ease-in-out\"\n                       className=\"c-sf-block__content\"\n                       contentClassName={className}>\n          {content}\n        </AnimateHeight>\n      );\n    }\n    return (\n      <div className=\"c-sf-block__content\">\n        <div className={className}>\n          {content}\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default BlockContent;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {\n  getLabel,\n  getNestedBlockDefinition,\n  getSiblingsIds, isSimpleLayout,\n  triggerCustomEvent, triggerKeyboardEvent\n} from './processing/utils';\nimport {duplicateBlock, hideBlock} from './actions';\nimport {refType} from './types';\n\n\n@connect((state, props) => {\n  const {fieldId, blockId} = props;\n  const blockDefinition = getNestedBlockDefinition(state, fieldId, blockId);\n  const siblings = getSiblingsIds(state, fieldId, blockId);\n  const field = state[fieldId];\n  return {\n    isSimpleLayout: isSimpleLayout(blockDefinition, field.isMobile),\n    blockDefinition,\n    siblings,\n    icons: field.icons,\n    labels: field.labels,\n    index: siblings.indexOf(blockId),\n  };\n}, (dispatch, props) => {\n  const {fieldId, blockId} = props;\n  return bindActionCreators({\n    hideBlock: () => hideBlock(fieldId, blockId),\n    duplicateBlock: () => duplicateBlock(fieldId, blockId),\n  }, dispatch);\n})\nclass BlockActions extends React.Component {\n  static propTypes = {\n    fieldId: PropTypes.string.isRequired,\n    blockId: PropTypes.string.isRequired,\n    sortableBlock: PropTypes.bool,\n    canDuplicate: PropTypes.bool,\n    dragHandleRef: refType,\n  };\n\n  static defaultProps = {\n    sortableBlock: true,\n    canDuplicate: true,\n  };\n\n  get isFirst() {\n    return this.props.index === 0;\n  }\n\n  get isLast() {\n    return this.props.index === (this.props.siblings.length - 1);\n  }\n\n  triggerCustomEvent(name, data=null) {\n    triggerCustomEvent(ReactDOM.findDOMNode(this), name, data);\n  }\n\n  sendKeyToDragHandle = key => {\n    const dragHandle = ReactDOM.findDOMNode(this.props.dragHandleRef.current);\n    triggerKeyboardEvent(dragHandle, 32);  // 32 for spacebar, to drag\n    return new Promise(resolve => {\n      setTimeout(() => {\n        triggerKeyboardEvent(dragHandle, key);\n        setTimeout(() => {\n          triggerKeyboardEvent(dragHandle, 32);  // Drop at the new position\n          resolve();\n        }, 100);  // 100 ms is the duration of a move in react-beautiful-dnd\n      }, 0);\n    });\n  };\n\n  moveUpHandler = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    this.sendKeyToDragHandle(38)  // 38 for up arrow\n      .then(() => {\n        this.triggerCustomEvent('move', {index: this.props.index});\n      });\n  };\n\n  moveDownHandler = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    this.sendKeyToDragHandle(40)  // 40 for down arrow\n      .then(() => {\n        this.triggerCustomEvent('move', {index: this.props.index});\n      });\n  };\n\n  duplicateHandler = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    this.props.duplicateBlock();\n    this.triggerCustomEvent('duplicate');\n  };\n\n  deleteHandler = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    this.props.hideBlock();\n  };\n\n  render() {\n    const {\n      blockDefinition, isSimpleLayout, sortableBlock, canDuplicate,\n      icons, labels,\n    } = this.props;\n    return (\n      <div className=\"c-sf-block__aside\">\n        <div className=\"c-sf-block__actions\">\n          {sortableBlock ?\n            <>\n              <button className=\"c-sf-block__actions__single\"\n                      onClick={this.moveUpHandler}\n                      title={labels.moveUp} disabled={this.isFirst}\n                      dangerouslySetInnerHTML={{__html: icons.moveUp}} />\n              <button className=\"c-sf-block__actions__single\"\n                      onClick={this.moveDownHandler}\n                      title={labels.moveDown} disabled={this.isLast}\n                      dangerouslySetInnerHTML={{__html: icons.moveDown}} />\n            </>\n            :\n            null}\n          <button className=\"c-sf-block__actions__single\"\n                  onClick={this.duplicateHandler}\n                  title={labels.duplicate} disabled={!canDuplicate}\n                  dangerouslySetInnerHTML={{__html: icons.duplicate}} />\n          <button className=\"c-sf-block__actions__single\"\n                  onClick={this.deleteHandler} title={labels.delete}\n                  dangerouslySetInnerHTML={{__html: icons.delete}} />\n        </div>\n        {isSimpleLayout ?\n          <span className=\"c-sf-block__type\">\n            {getLabel(blockDefinition)}\n          </span>\n          :\n          null\n        }\n      </div>\n    );\n  }\n}\n\n\nexport default BlockActions;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {\n  getLabel,\n  getNestedBlockDefinition, isNA, isSimpleLayout,\n  isStruct, structValueToObject, triggerCustomEvent\n} from './processing/utils';\nimport {toggleBlock} from './actions';\nimport BlockActions from './BlockActions';\nimport {refType} from './types';\n\n\n@connect((state, props) => {\n  const {fieldId, blockId} = props;\n  const fieldData = state[fieldId];\n  const blocks = fieldData.blocks;\n  const block = blocks[blockId];\n  const blockDefinition = getNestedBlockDefinition(state, fieldId, blockId);\n  const value = block.value;\n  return {\n    isSimpleLayout: isSimpleLayout(blockDefinition, fieldData.isMobile),\n    blockDefinition,\n    icons: fieldData.icons,\n    value: isStruct(blockDefinition) ?\n             structValueToObject(state, fieldId, value)\n             :\n             value,\n  };\n}, (dispatch, props) => {\n  const {fieldId, blockId} = props;\n  return bindActionCreators({\n    toggleBlock: () => toggleBlock(fieldId, blockId),\n  }, dispatch);\n})\nclass BlockHeader extends React.Component {\n  static propTypes = {\n    fieldId: PropTypes.string.isRequired,\n    blockId: PropTypes.string.isRequired,\n    collapsibleBlock: PropTypes.bool,\n    sortableBlock: PropTypes.bool,\n    canDuplicate: PropTypes.bool,\n    dragHandleRef: refType,\n    dragHandleProps: PropTypes.object,\n  };\n\n  static defaultProps = {\n    collapsibleBlock: true,\n    sortableBlock: true,\n    canDuplicate: true,\n  };\n\n  get title() {\n    const {title, blockDefinition, value} = this.props;\n    if (isStruct(blockDefinition)) {\n      if ((title !== undefined) && (title !== null)) {\n        return title;\n      }\n      if (blockDefinition.titleTemplate !== undefined) {\n        let hasVariables = false;\n        let isEmpty = true;\n        let renderedTitle = blockDefinition.titleTemplate.replace(\n          /\\${([^}]+)}/g, (match, varName) => {\n            let childValue = value[varName];\n            if (isNA(childValue)) {\n              childValue = '';\n            } else if (childValue !== '') {\n              isEmpty = false;\n            }\n            hasVariables = true;\n            return childValue;\n          });\n        if (!hasVariables || !isEmpty) {\n          return renderedTitle;\n        }\n      }\n    }\n    return null;\n  }\n\n  get titleAndType() {\n    const title = this.title;\n    let icon = this.props.blockDefinition.icon;\n    const blockType = (\n      <span className=\"c-sf-block__type\">\n        {getLabel(this.props.blockDefinition)}\n      </span>\n    );\n    if (isNA(icon)) {\n      return blockType;\n    }\n\n    icon = <span className=\"c-sf-block__header__title__icon\"\n                 dangerouslySetInnerHTML={{__html: icon}} />;\n\n    if (title) {\n      return (\n        <>\n          <h3 className=\"c-sf-block__header__title\">{icon}{title}</h3>\n          {blockType}\n        </>\n      );\n    }\n    return (\n      <span>\n        <h3 className=\"c-sf-block__header__title\">{icon}{title}</h3>\n        {blockType}\n      </span>\n    );\n  }\n\n  triggerCustomEvent(name, data=null) {\n    triggerCustomEvent(ReactDOM.findDOMNode(this), name, data);\n  }\n\n  toggle = () => {\n    const {isSimpleLayout, toggleBlock, closed} = this.props;\n    if (isSimpleLayout) {\n      return;\n    }\n    toggleBlock();\n    this.triggerCustomEvent('toggle', {closed: !closed});\n  };\n\n  render() {\n    const {\n      fieldId, blockDefinition, blockId, isSimpleLayout, dragHandleProps,\n      icons, collapsibleBlock, sortableBlock, canDuplicate, dragHandleRef,\n    } = this.props;\n    const icon = blockDefinition.icon;\n    let content;\n    if (isSimpleLayout) {\n      content = (\n        <div className=\"c-sf-block__header__title\" dangerouslySetInnerHTML={{__html: icon ? icon : icons.grip}} />\n      );\n    } else {\n      content = (\n        <>\n          {this.titleAndType}\n          <BlockActions fieldId={fieldId} blockId={blockId}\n                        sortableBlock={sortableBlock}\n                        canDuplicate={canDuplicate}\n                        dragHandleRef={dragHandleRef} />\n        </>\n      );\n    }\n    return (\n      <div ref={dragHandleRef}  onClick={this.toggle}\n              {...dragHandleProps}\n              className={classNames(\n                'c-sf-block__header',\n                collapsibleBlock && 'c-sf-block__header--collapsible',\n                sortableBlock && 'c-sf-block__header--sortable')}>\n        {content}\n      </div>\n    );\n  }\n}\n\n\nexport default BlockHeader;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport AnimateHeight from 'react-animate-height';\nimport {Draggable} from 'react-beautiful-dnd';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {\n  blockUpdated,\n  deleteBlock,\n  showBlock,\n} from './actions';\nimport {\n  getDescendantsIds, getLayout,\n  getNestedBlockDefinition,\n  getSiblingsIds, isSimpleLayout,\n  triggerCustomEvent,\n} from './processing/utils';\nimport AddButton from './AddButton';\nimport BlockContent from './BlockContent';\nimport BlockHeader from './BlockHeader';\nimport BlockActions from './BlockActions';\n\n\n@connect((state, props) => {\n  const {fieldId, id} = props;\n  const fieldData = state[fieldId];\n  const blocks = fieldData.blocks;\n  const block = blocks[id];\n  const siblings = getSiblingsIds(state, fieldId, id);\n  const blockDefinition = getNestedBlockDefinition(state, fieldId, id);\n  const hasDescendantError = getDescendantsIds(state, fieldId, id, true)\n    .some(descendantBlockId => blocks[descendantBlockId].hasError);\n  return {\n    blockDefinition,\n    layout: getLayout(blockDefinition, fieldData.isMobile),\n    isSimpleLayout: isSimpleLayout(blockDefinition, fieldData.isMobile),\n    parentId: block.parent,\n    hasError: hasDescendantError,\n    closed: block.closed,\n    hidden: block.hidden,\n    shouldUpdate: block.shouldUpdate,\n    index: siblings.indexOf(id),\n  };\n}, (dispatch, props) => {\n  const {fieldId, id} = props;\n  return bindActionCreators({\n    blockUpdated: () => blockUpdated(fieldId, id),\n    showBlock: () => showBlock(fieldId, id),\n    deleteBlock: () => deleteBlock(fieldId, id),\n  }, dispatch);\n})\nclass Block extends React.Component {\n  static propTypes = {\n    fieldId: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired,\n    standalone: PropTypes.bool,\n    collapsible: PropTypes.bool,\n    sortable: PropTypes.bool,\n    canAdd: PropTypes.bool,\n  };\n\n\n  static defaultProps = {\n    standalone: false,\n    collapsible: true,\n    sortable: true,\n    canAdd: true,\n  };\n\n  constructor(props) {\n    super(props);\n    this.dragHandleRef = React.createRef();\n    this.contentRef = React.createRef();\n  }\n\n  shouldComponentUpdate(nextProps, nextState, nextContext) {\n    return nextProps.shouldUpdate || (nextProps.layout !== this.props.layout);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (!prevProps.shouldUpdate) {\n      this.props.blockUpdated();\n    }\n  }\n\n  triggerCustomEvent(name, data=null) {\n    triggerCustomEvent(ReactDOM.findDOMNode(this), name, data);\n  }\n\n  onDraggableContainerAnimationEnd = () => {\n    if (this.props.hidden) {\n      this.triggerCustomEvent('delete');\n      this.props.deleteBlock();\n    }\n  };\n\n  get draggableHeight() {\n    return this.props.hidden ? 0 : 'auto';\n  }\n\n  componentDidMount() {\n    if (this.props.hidden) {\n      this.props.showBlock();\n    }\n  }\n\n  wrapSortable(blockContent) {\n    const {\n      layout, isSimpleLayout, fieldId, id, parentId, index, hasError,\n      collapsible, sortable, canAdd,\n    } = this.props;\n    const blockClassName =\n      `c-sf-block ${layout} ${hasError ? 'c-sf-block--error' : ''}`;\n    const addButton = (\n      <AddButton fieldId={fieldId} parentId={parentId} blockId={id}\n                 visible={canAdd} />\n    );\n    if (sortable) {\n      return (\n        <Draggable draggableId={id} index={index}\n                   type={`${fieldId}-${parentId}`}>\n          {(provided, snapshot) => (\n            <div className=\"c-sf-container__block-container\"\n                 ref={provided.innerRef} {...provided.draggableProps}>\n              <div className={blockClassName}>\n                <BlockHeader fieldId={fieldId} blockId={id}\n                             collapsibleBlock={collapsible}\n                             sortableBlock={sortable}\n                             canDuplicate={canAdd}\n                             dragHandleRef={this.dragHandleRef}\n                             dragHandleProps={provided.dragHandleProps} />\n                {blockContent}\n                {isSimpleLayout ?\n                  <BlockActions fieldId={fieldId} blockId={id}\n                                sortableBlock={sortable} canDuplicate={canAdd}\n                                dragHandleRef={this.dragHandleRef} />\n                  :\n                  null}\n              </div>\n              {addButton}\n            </div>\n          )}\n        </Draggable>\n      );\n    }\n    return (\n      <div className=\"c-sf-container__block-container\">\n        <div className={blockClassName}>\n          <BlockHeader fieldId={fieldId} blockId={id}\n                       collapsibleBlock={collapsible}\n                       sortableBlock={sortable}\n                       canDuplicate={canAdd}\n                       dragHandleRef={this.dragHandleRef} />\n          {blockContent}\n        </div>\n        {addButton}\n      </div>\n    );\n  }\n\n  render() {\n    const {\n      fieldId, id, parentId, standalone, collapsible, canAdd,\n    } = this.props;\n    const blockContent = (\n      <BlockContent ref={this.contentRef} fieldId={fieldId} blockId={id}\n                    collapsible={collapsible} />\n    );\n    if (standalone) {\n      return (\n        <div className=\"c-sf-container__block-container\">\n          <div className=\"c-sf-block\">\n            {blockContent}\n          </div>\n        </div>\n      );\n    }\n    return (\n      <AnimateHeight height={this.draggableHeight}\n                     onAnimationEnd={this.onDraggableContainerAnimationEnd}>\n        {this.wrapSortable(blockContent)}\n      </AnimateHeight>\n    );\n  }\n}\n\n\nexport default Block;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport {connect} from 'react-redux';\nimport {Droppable} from 'react-beautiful-dnd';\nimport Block from './Block';\nimport AddButton from './AddButton';\nimport {getNestedBlockDefinition, isNA} from './processing/utils';\n\n\n@connect((state, props) => {\n  const {fieldId, id} = props;\n  const fieldData = state[fieldId];\n  const blocksIds = id === null ?\n    fieldData.rootBlocks\n    :\n    fieldData.blocks[id].value;\n  let minNum, maxNum;\n  if (id === null) {\n    minNum = fieldData.minNum;\n    maxNum = fieldData.maxNum;\n  } else {\n    const blockDefinition = getNestedBlockDefinition(state, fieldId, id);\n    minNum = blockDefinition.minNum;\n    maxNum = blockDefinition.maxNum;\n  }\n  if (isNA(minNum)) {\n    minNum = 0;\n  }\n  if (isNA(maxNum)) {\n    maxNum = Infinity;\n  }\n  return {\n    minNum, maxNum,\n    gutteredAdd: fieldData.gutteredAdd,\n    blocksIds: blocksIds,\n  };\n})\nclass BlocksContainer extends React.Component {\n  static propTypes = {\n    fieldId: PropTypes.string.isRequired,\n    id: PropTypes.string,\n  };\n\n  renderBlock(blockId, canAdd=true) {\n    return (\n      <Block key={blockId}\n             fieldId={this.props.fieldId}\n             id={blockId} canAdd={canAdd} />\n    );\n  }\n\n  render() {\n    const {fieldId, id, blocksIds, maxNum, gutteredAdd} = this.props;\n    const droppableId = `${fieldId}-${id}`;\n    const num = blocksIds.length;\n    const canAdd = num < maxNum;\n    return (\n      <Droppable droppableId={droppableId} type={droppableId}>\n        {(provided, snapshot) => (\n          <div ref={provided.innerRef}\n               className={classNames(\n                 'c-sf-container',\n                 snapshot.isDraggingOver && 'c-sf-container--dragging',\n                 gutteredAdd && 'c-sf-container--add-in-gutter')}>\n            <AddButton fieldId={fieldId} parentId={id}\n                       open={blocksIds.length === 0} visible={canAdd} />\n            {blocksIds.map(blockId => this.renderBlock(blockId, canAdd))}\n            {provided.placeholder}\n          </div>\n        )}\n      </Droppable>\n    );\n  }\n}\n\n\nexport default BlocksContainer;\n","import React  from 'react';\nimport PropTypes from 'prop-types';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {DragDropContext} from 'react-beautiful-dnd';\nimport {\n  moveBlock,\n  initializeStreamField,\n  setIsMobile\n} from './actions';\nimport {stateToValue} from './processing/conversions';\nimport {getIsMobile} from './processing/utils';\nimport BlocksContainer from './BlocksContainer';\n\n\nfunction lazyFunction(f) {\n  return function () {\n    return f().apply(this, arguments);\n  };\n}\n\n\nconst BlockDefinitionType = PropTypes.shape({\n  key: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  required: PropTypes.bool,\n  default: PropTypes.any,\n  icon: PropTypes.string,\n  group: PropTypes.string,\n  className: PropTypes.string,\n  minNum: PropTypes.number,\n  maxNum: PropTypes.number,\n  layout: PropTypes.oneOf(['SIMPLE', 'COLLAPSIBLE']),\n  closed: PropTypes.bool,\n  titleTemplate: PropTypes.string,\n  html: PropTypes.string,\n  isStruct: PropTypes.bool,\n  isStatic: PropTypes.bool,\n  dangerouslyRunInnerScripts: PropTypes.bool,\n  children: PropTypes.arrayOf(lazyFunction(() => BlockDefinitionType)),\n});\n\n\nconst BlockValueType = PropTypes.shape({\n  type: PropTypes.string.isRequired,\n  html: PropTypes.string,\n  hasError: PropTypes.bool,\n  value: PropTypes.oneOfType([\n    PropTypes.arrayOf(lazyFunction(() => BlockValueType)),\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n  ]),\n});\n\n\nconst StreamFieldDefaultProps = {\n  required: false,\n  minNum: 0,\n  maxNum: Infinity,\n  icons: {\n    add: '<i aria-hidden=\"true\">+</i>',\n    moveUp: '<i class=\"fas fa-chevron-up\" aria-hidden=\"true\" />',\n    moveDown: '<i class=\"fas fa-chevron-down\" aria-hidden=\"true\" />',\n    duplicate: '<i class=\"fas fa-clone\" aria-hidden=\"true\" />',\n    delete: '<i class=\"fas fa-trash\" aria-hidden=\"true\" />',\n    grip: '<i class=\"fas fa-grip-vertical fa-fw\" aria-hidden=\"true\" />',\n  },\n  labels: {\n    add: 'Add block',\n    moveUp: 'Move up',\n    moveDown: 'Move down',\n    duplicate: 'Duplicate',\n    delete: 'Delete',\n  },\n};\n\n\n@connect((state, props) => {\n  const {id} = props;\n  const fieldData = state[id];\n  return {\n    generatedValue: fieldData === undefined ? '' : stateToValue(state, id),\n    isMobile: fieldData === undefined ? null : fieldData.isMobile,\n  };\n}, (dispatch, props) => {\n  const {id} = props;\n  return bindActionCreators({\n    initializeStreamField: data => initializeStreamField(id, data),\n    setIsMobile: isMobile => setIsMobile(id, isMobile),\n    moveBlock: (blockId, newIndex) => moveBlock(id, blockId, newIndex),\n  }, dispatch);\n})\nclass StreamField extends React.Component {\n  static propTypes = {\n    id: PropTypes.string.isRequired,\n    required: PropTypes.bool,\n    minNum: PropTypes.number,\n    maxNum: PropTypes.number,\n    icons: PropTypes.shape({\n      add: PropTypes.string,\n      moveUp: PropTypes.string,\n      moveDown: PropTypes.string,\n      duplicate: PropTypes.string,\n      delete: PropTypes.string,\n      grip: PropTypes.string,\n    }),\n    labels: PropTypes.shape({\n      add: PropTypes.string,\n      moveUp: PropTypes.string,\n      moveDown: PropTypes.string,\n      duplicate: PropTypes.string,\n      delete: PropTypes.string,\n    }),\n    gutteredAdd: PropTypes.bool,\n    blockDefinitions: PropTypes.arrayOf(BlockDefinitionType).isRequired,\n    value: PropTypes.arrayOf(BlockValueType).isRequired,\n  };\n\n  static defaultProps = StreamFieldDefaultProps;\n\n  onWindowResize = () => {\n    const value = getIsMobile();\n    if (value !== this.props.isMobile) {\n      this.props.setIsMobile(value);\n    }\n  };\n\n  onDragEnd = result => {\n    const {draggableId, source, destination} = result;\n    if (!destination || (result.reason === 'CANCEL')\n        || (destination.droppableId !== source.droppableId)\n        || (destination.index === source.index)) {\n      return;\n    }\n    this.props.moveBlock(draggableId, destination.index);\n  };\n\n  componentWillMount() {\n    // Removes the input with the same name if it exists.\n    const input = document.querySelector(`[name=\"${this.props.id}\"]`);\n    if (input !== null) {\n      input.parentNode.removeChild(input);\n    }\n  }\n\n  componentDidMount() {\n    const {\n      initializeStreamField, required, minNum, maxNum, gutteredAdd,\n      blockDefinitions, value,\n    } = this.props;\n    const defaultProps = StreamFieldDefaultProps;\n    const icons = {...defaultProps.icons, ...this.props.icons};\n    const labels = {...defaultProps.labels, ...this.props.labels};\n    initializeStreamField({\n      required, minNum, maxNum, icons, labels, gutteredAdd,\n      blockDefinitions, isMobile: getIsMobile(), value,\n    });\n    window.addEventListener('resize', this.onWindowResize);\n  }\n\n  render() {\n    const {id, generatedValue} = this.props;\n    return (\n      <DragDropContext onDragEnd={this.onDragEnd}>\n      {generatedValue ? <BlocksContainer fieldId={id} id={null} /> : null}\n\n        <input type=\"hidden\" name={id}\n               value={JSON.stringify(generatedValue)} />\n      </DragDropContext>\n    );\n  }\n}\n\n\nexport default StreamField;\n","import {\n  getBlockDefinition,\n  getNestedBlockDefinition,\n  isField,\n  isStruct,\n  getNewBlock, getNewId, isClosed, getIsMobile, isNA,\n} from './utils';\n\n\nexport const getNestedBlocksState = (parentBlockId, blockDefinitions,\n                                     blocks) => {\n  const childrenBlocksIds = [];\n  let blocksState = {};\n  let descendantsBlocksState = {};\n\n  for (let block of blocks) {\n    const blockId = block.id === undefined ? getNewId() : block.id;\n    const blockDefinition = blockDefinitions.length === 1 ?\n      blockDefinitions[0] : getBlockDefinition(blockDefinitions, block.type);\n    const blockIsField = isField(blockDefinition);\n    let value = block.value;\n    if (!blockIsField) {\n      if (isNA(value)) {\n        value = [];\n      }\n      if (isStruct(blockDefinition)) {\n        for (let childBlockDefinition of blockDefinition.children) {\n          const childBlockType = childBlockDefinition.key;\n          const childBlock = value.find(\n            childBlock => childBlock.type === childBlockType);\n          if (childBlock === undefined) {\n            let [childBlockId, childBlock, extraBlocks] =\n              getNewBlock(blockId, childBlockDefinition);\n            blocksState = {\n              ...blocksState,\n              ...extraBlocks,\n              [childBlockId]: childBlock,\n            };\n            value.push({id: childBlockId, ...childBlock});\n          }\n        }\n      }\n      [value, descendantsBlocksState] = getNestedBlocksState(\n        blockId, blockDefinition.children, value);\n      blocksState = {\n        ...blocksState,\n        ...descendantsBlocksState,\n      };\n    }\n    childrenBlocksIds.push(blockId);\n    blocksState[blockId] = {\n      parent: parentBlockId,\n      type: blockDefinition.key,\n      html: block.html,\n      hasError: block.hasError,\n      value: value,\n      hidden: false,\n      closed: isClosed(blockDefinition, getIsMobile()),\n      shouldUpdate: false,\n      isField: blockIsField,\n    };\n  }\n\n  return [childrenBlocksIds, blocksState];\n};\n\n\nexport const valueToState = (prevState, fieldId, value) => {\n  const [rootBlocks, blocks] = getNestedBlocksState(\n    null, prevState[fieldId].blockDefinitions, value);\n\n  // Delete internal field created only for browsing data.\n  for (let block of Object.values(blocks)) {\n    delete block['isField'];\n  }\n\n  return {\n    ...prevState,\n    [fieldId]: {\n      ...prevState[fieldId],\n      rootBlocks: rootBlocks,\n      blocks: blocks,\n    },\n  };\n};\n\n\nexport const extractValue = (state, fieldId, blockId) => {\n  const blocks = state[fieldId].blocks;\n  const block = blocks[blockId];\n  let value = block.value;\n  const blockDefinition = getNestedBlockDefinition(state, fieldId, blockId);\n  if (!isField(blockDefinition)) {\n    value = value.map(childBlockId => extractValue(state, fieldId,\n                                                   childBlockId));\n  }\n  return {\n    id: blockId,\n    type: block.type,\n    value: value,\n  };\n};\n\n\nexport const stateToValue = (state, fieldId) => {\n  const fieldData = state[fieldId];\n  return fieldData.rootBlocks.map(\n    blockId => extractValue(state, fieldId, blockId));\n};\n","import React from 'react';\nimport uuidv4 from 'uuid';\n\n\nexport const isNA = value => {\n  return (value === null) || (value === undefined)\n};\n\n\nexport const getNewId = () => {\n  return uuidv4();\n};\n\n\nexport const getFieldName = blockId => {\n  return `field-${blockId}`;\n};\n\n\nexport const isField = blockDefinition => {\n  return (blockDefinition.children === undefined)\n      || (blockDefinition.children.length === 0);\n};\n\n\nexport const isStruct = blockDefinition => {\n  return (blockDefinition.isStruct !== undefined)\n      && blockDefinition.isStruct;\n};\n\n\nexport const isStatic = blockDefinition => {\n  return (blockDefinition.isStatic !== undefined)\n       && blockDefinition.isStatic;\n};\n\n\nexport const getIsMobile = () => {\n  return window.matchMedia('(max-width: 799px)').matches;\n};\n\n\nexport const getLayout = (blockDefinition, isMobile) => {\n  if ((blockDefinition.layout === undefined) || isMobile) {\n    return 'COLLAPSIBLE';\n  }\n  return blockDefinition.layout;\n};\n\n\nexport const isSimpleLayout = (blockDefinition, isMobile) => {\n  return getLayout(blockDefinition, isMobile) === 'SIMPLE';\n};\n\n\nexport const isClosed = (blockDefinition, isMobile) => {\n  return !isSimpleLayout(blockDefinition, isMobile)\n      && ((blockDefinition.closed === undefined)\n          || blockDefinition.closed);\n};\n\n\nexport const shouldRunInnerScripts = blockDefinition => {\n  return (blockDefinition.dangerouslyRunInnerScripts !== undefined)\n      && (blockDefinition.dangerouslyRunInnerScripts);\n};\n\n\nexport const getLabel = blockDefinition => {\n  let {key, label} = blockDefinition;\n  if (label === undefined) {\n    label = key.replace('_', ' ');\n    label = `${label[0].toUpperCase()}${label.substring(1)}`;\n  }\n  return label;\n};\n\n\nexport const getChildrenIds = (state, fieldId, parentId) => {\n  const fieldData = state[fieldId];\n  const blocks = fieldData.blocks;\n  if (parentId === null) {\n    return fieldData.rootBlocks;\n  } else {\n    return blocks[parentId].value;\n  }\n};\n\n\nexport const getSiblingsIds = (state, fieldId, blockId) => {\n  const fieldData = state[fieldId];\n  const blocks = fieldData.blocks;\n  const block = blocks[blockId];\n  const parentId = block.parent;\n  if (parentId !== null) {\n    const parentBlockDefinition = getNestedBlockDefinition(state, fieldId,\n                                                           parentId);\n    if (isStruct(parentBlockDefinition)) {\n      return [blockId];\n    }\n  }\n  return getChildrenIds(state, fieldId, parentId);\n};\n\n\nexport const getAncestorsIds = (state, fieldId, blockId,\n                                includeSelf=false) => {\n  const blocks = state[fieldId].blocks;\n  const ancestors = [];\n  if (includeSelf) {\n    ancestors.push(blockId);\n  }\n\n  let block = blocks[blockId];\n  while (block.parent !== null) {\n    blockId = block.parent;\n    ancestors.push(blockId);\n    block = blocks[blockId];\n  }\n  return ancestors.reverse();\n};\n\n\nexport const getDescendantsIds = (state, fieldId, blockId,\n                                  includeSelf=false) => {\n  let descendants = [];\n  if (includeSelf) {\n    descendants.push(blockId);\n  }\n\n  const blockDefinition = getNestedBlockDefinition(state, fieldId, blockId);\n\n  if (isField(blockDefinition)) {\n    return descendants;\n  }\n\n  for (let childBlockId of state[fieldId].blocks[blockId].value) {\n    descendants = [\n      ...descendants,\n      ...getDescendantsIds(state, fieldId, childBlockId, true),\n    ];\n  }\n  return descendants;\n};\n\n\nexport const getBlockDefinition = (blockDefinitions, type) => {\n  const blockDefinition = blockDefinitions.find(\n    blockDefinition => blockDefinition.key === type);\n  if (blockDefinition === undefined) {\n    throw new TypeError(`No block definition found for '${type}'`);\n  }\n  return blockDefinition;\n};\n\n\nexport const getNestedBlockDefinition = (state, fieldId, blockId) => {\n  const fieldData = state[fieldId];\n  let {blockDefinitions, blocks} = fieldData;\n  let blockDefinition;\n  for (let ancestorId of getAncestorsIds(state, fieldId, blockId, true)) {\n    const block = blocks[ancestorId];\n    blockDefinition = getBlockDefinition(blockDefinitions, block.type);\n    blockDefinitions = blockDefinition.children;\n  }\n  return blockDefinition;\n};\n\n\nexport const structValueToObject = (state, fieldId, structValue) => {\n  const blocks = state[fieldId].blocks;\n  const obj = {};\n  for (let childBlockId of structValue) {\n    const childBlockDefinition = getNestedBlockDefinition(state, fieldId,\n                                                          childBlockId);\n    let value;\n    if (isField(childBlockDefinition)) {\n      const childBlock = blocks[childBlockId];\n      value = childBlock.value;\n    } else {\n      value = childBlockId;\n    }\n    obj[childBlockDefinition.key] = value;\n  }\n  return obj;\n};\n\n\nexport const getNewBlock = (parentId, blockDefinition, value=null) => {\n  let extraBlocks = {};\n  let childBlockId, childBlock, childExtraBlocks;\n  const blockId = getNewId();\n\n  if (isNA(value) && (blockDefinition.default !== undefined)) {\n    value = blockDefinition.default;\n  }\n\n  if (isStruct(blockDefinition)) {\n    const newValue = [];\n    for (let childBlockDefinition of blockDefinition.children) {\n      let childDefaultValue = null;\n      if (!isNA(value)) {\n        for (let childDefault of value) {\n          if (childDefault.type === childBlockDefinition.key) {\n            childDefaultValue = childDefault.value;\n            break;\n          }\n        }\n      }\n      [childBlockId, childBlock, childExtraBlocks] =\n        getNewBlock(blockId, childBlockDefinition, childDefaultValue);\n      newValue.push(childBlockId);\n      extraBlocks = {\n        ...extraBlocks,\n        ...childExtraBlocks,\n        [childBlockId]: childBlock,\n      };\n    }\n    value = newValue;\n  } else if (!isField(blockDefinition)) {\n    const newValue = [];\n    if (!isNA(value)) {\n      for (let childBlock of value) {\n        let childBlockDefinition;\n        for (childBlockDefinition of blockDefinition.children) {\n          if (childBlockDefinition.key === childBlock.type) {\n            break;\n          }\n        }\n        [childBlockId, childBlock, childExtraBlocks] =\n          getNewBlock(blockId, childBlockDefinition, childBlock.value);\n        newValue.push(childBlockId);\n        extraBlocks = {\n          ...extraBlocks,\n          ...childExtraBlocks,\n          [childBlockId]: childBlock,\n        };\n      }\n    }\n    value = newValue;\n  }\n  return [\n    blockId,\n    {\n      parent: parentId,\n      type: blockDefinition.key,\n      value: value,\n      hidden: true,\n      closed: false,\n      shouldUpdate: false,\n    },\n    extraBlocks,\n  ];\n};\n\n\nexport const deepCopy = data => {\n  let copy;\n  if (data instanceof FileList) {\n    return data;\n  }\n  if (data instanceof Array) {\n    return data.map(v => deepCopy(v));\n  }\n  if (data instanceof Object) {\n    copy = {};\n    for (const [key, value] of Object.entries(data)) {\n      copy[key] = deepCopy(value);\n    }\n    return copy;\n  }\n  return data;\n};\n\n\nexport const applyToBlocks = (state, fieldId, blocksIds, func) => {\n  const fieldData = state[fieldId];\n  const blocks = fieldData.blocks;\n  for (let blockId of blocksIds) {\n    const block = deepCopy(blocks[blockId]);\n    blocks[blockId] = func(block);\n  }\n  return {\n    ...state,\n    [fieldId]: {\n      ...fieldData,\n      blocks: blocks,\n    },\n  };\n};\n\n\nexport const applyToBlock = (state, fieldId, blockId, func) => {\n  return applyToBlocks(state, fieldId, [blockId], func);\n};\n\n\nexport const triggerKeyboardEvent = (element, key) => {\n  let event = new Event('keydown', {bubbles: true, cancelable: true});\n\n  event.key = key;            // These four lines\n  event.keyIdentifier = key;  // are here\n  event.keyCode = key;        // to fix cross-browser\n  event.which = key;          // compatibility issues.\n\n  element.dispatchEvent(event);\n};\n\n\nexport const triggerCustomEvent = (element, name, data=null) => {\n  if (data === null) {\n    data = {};\n  }\n  const event = new CustomEvent(`streamfield:${name}`, {\n    detail: {\n      target: element,\n      ...data,\n    },\n  });\n  element.dispatchEvent(event);\n  window.dispatchEvent(event);\n};\n\n\nexport const replaceWithComponent = (string, placeholder, component) => {\n  const parts = string.split(new RegExp(`(${placeholder})`));\n  for (const i in parts) {\n    let part = parts[i];\n    if (part === placeholder) {\n      parts[i] = <React.Fragment key={i}>{component}</React.Fragment>\n    } else {\n      parts[i] = <span key={i} dangerouslySetInnerHTML={{__html: part}} />\n    }\n  }\n  return <>{parts}</>;\n};\n","export const complexNestedStreamField = {\n  required: true,\n  blockDefinitions: [\n    {\n      key: \"title\",\n      icon: \"<i class='fas fa-heading fa-fw'></i>\",\n      className: \"full title\",\n      html: \"<input type='text' name='field-__ID__' />\"\n    },\n    {\n      key: \"text\",\n      icon: \"<i class='fas fa-align-justify fa-fw'></i>\",\n      className: \"full\",\n      html: \"<textarea name='field-__ID__'></textarea>\"\n    },\n    {\n      key: \"block-type\",\n      label: \"Block type\",\n      icon: \"<i class='fas fa-heart fa-fw'></i>\",\n      titleTemplate: \"${start_date} — ${end_date}\",\n      isStruct: true,\n      children: [\n        {\n          key: \"start_date\",\n          html: \"<input type='date' name='field-__ID__' />\",\n          required: true\n        },\n        {\n          key: \"end_date\",\n          html: \"<input type='date' name='field-__ID__' />\",\n          required: true\n        },\n        {\n          key: \"image\",\n          html: \"<input type='file' accept='image/*' name='field-__ID__' />\"\n        },\n        {\n          key: \"public\",\n          html: \"<input type='checkbox' name='field-__ID__' />\"\n        },\n        {\n          key: \"tags\"\n        },\n        {\n          key: \"size\",\n          html: \"<input type='number' name='field-__ID__' />\"\n        },\n        {\n          key: \"color\",\n          html: \"<input type='color' name='field-__ID__' />\"\n        },\n        {\n          key: \"sub-blocks\",\n          children: [\n            {\n              key: \"sub-block-type\",\n              label: \"Sub-block type\",\n              icon: \"<i class='fas fa-heartbeat fa-fw'></i>\",\n              isStruct: true,\n              children: [\n                {\n                  key: \"name\"\n                },\n                {\n                  key: \"password\",\n                  html: \"<input type='password' name='field-__ID__' />\"\n                },\n                {\n                  key: \"sub-sub-blocks\",\n                  children: [\n                    {\n                      key: \"sub-sub-block-type\",\n                      name: \"Sub-sub-block type\",\n                      icon: \"<i class='fas fa-smile fa-fw'></i>\"\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ],\n      default: [\n        { type: \"color\", value: \"#00FF00\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"lorem\" },\n                { type: \"password\", value: \"ipsum\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [{ type: \"sub-sub-block-type\", value: \"blablabla\" }]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  ],\n  value: [\n    { type: \"title\", value: \"Wagtail is awesome!\" },\n    {\n      type: \"text\",\n      value: \"And it\\u2019s always getting better! \\ud83d\\ude03\"\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1768-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1769-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1770-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1771-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1772-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1773-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1774-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1775-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1776-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1777-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1778-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1779-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1780-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1781-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1782-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1783-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1784-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1785-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1786-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1787-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1788-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1789-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1790-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1791-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1792-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1793-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1794-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1795-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1796-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1797-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1798-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1799-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1800-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1801-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1802-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1803-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1804-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1805-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1806-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1807-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1808-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1809-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1810-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1811-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1812-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1813-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1814-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1815-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1816-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1817-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  ]\n};\n","import { configure } from \"@storybook/react\";\n\nconfigure(() => {\n  require(\"../example/example.scss\");\n  require(\"../src/scss/index.scss\");\n\n  require(\"../example/index.story\");\n}, module);\n","\nvar content = require(\"!!../node_modules/css-loader/index.js??ref--9-1!../node_modules/postcss-loader/src/index.js??ref--9-2!../node_modules/sass-loader/lib/loader.js??ref--9-3!./example.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js??ref--9-1!../node_modules/postcss-loader/src/index.js??ref--9-2!../node_modules/sass-loader/lib/loader.js??ref--9-3!./example.scss\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js??ref--9-1!../node_modules/postcss-loader/src/index.js??ref--9-2!../node_modules/sass-loader/lib/loader.js??ref--9-3!./example.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"body {\\n  background: #F6F6F6;\\n  padding: 15px;\\n}\\n\\n.c-sf-block .c-sf-block__content-inner.full {\\n  padding: 0;\\n}\\n\\n.c-sf-block .c-sf-block__content-inner.full input,\\n.c-sf-block .c-sf-block__content-inner.full textarea {\\n  display: block;\\n  min-width: 100%;\\n  max-width: 100%;\\n  height: 100%;\\n  padding: 12px;\\n  border: none;\\n  outline: none;\\n}\\n\\n.c-sf-block .c-sf-block__content-inner.full input {\\n  font-size: 30px;\\n}\\n\\ninput[type=text], input[type=password], input[type=email],\\ninput[type=date], input[type=time], input[type=number], select {\\n  padding: 5px 8px;\\n  border: 1px solid lightGrey;\\n  border-radius: 3px;\\n}\\n\\ninput[type=color] {\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n  appearance: none;\\n  border: none;\\n  background: none;\\n}\\n\\ntextarea {\\n  max-width: 100%;\\n}\", \"\", {\"version\":3,\"sources\":[\"/home/bertrand/PycharmProjects/react-streamfield/example/example.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,oBAAA;EACA,cAAA;CACF;;AAEA;EACE,WAAA;CACF;;AAEA;;EAEE,eAAA;EACA,gBAAA;EACA,gBAAA;EACA,aAAA;EACA,cAAA;EACA,aAAA;EACA,cAAA;CACF;;AAEA;EACE,gBAAA;CACF;;AAEA;;EAEE,iBAAA;EACA,4BAAA;EACA,mBAAA;CACF;;AAEA;EACE,yBAAA;EACA,sBAAA;EACA,iBAAA;EACA,aAAA;EACA,iBAAA;CACF;;AAEA;EACE,gBAAA;CACF\",\"file\":\"example.scss\",\"sourcesContent\":[\"body {\\n  background: #F6F6F6;\\n  padding: 15px;\\n}\\n\\n.c-sf-block .c-sf-block__content-inner.full {\\n  padding: 0;\\n}\\n\\n.c-sf-block .c-sf-block__content-inner.full input,\\n.c-sf-block .c-sf-block__content-inner.full textarea {\\n  display: block;\\n  min-width: 100%;\\n  max-width: 100%;\\n  height: 100%;\\n  padding: 12px;\\n  border: none;\\n  outline: none;\\n}\\n\\n.c-sf-block .c-sf-block__content-inner.full input {\\n  font-size: 30px;\\n}\\n\\ninput[type=\\\"text\\\"], input[type=\\\"password\\\"], input[type=\\\"email\\\"],\\ninput[type=\\\"date\\\"], input[type=\\\"time\\\"], input[type=\\\"number\\\"], select {\\n  padding: 5px 8px;\\n  border: 1px solid lightGrey;\\n  border-radius: 3px;\\n}\\n\\ninput[type=\\\"color\\\"] {\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n  appearance: none;\\n  border: none;\\n  background: none;\\n}\\n\\ntextarea {\\n  max-width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--9-1!../../node_modules/postcss-loader/src/index.js??ref--9-2!../../node_modules/sass-loader/lib/loader.js??ref--9-3!./index.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js??ref--9-1!../../node_modules/postcss-loader/src/index.js??ref--9-2!../../node_modules/sass-loader/lib/loader.js??ref--9-3!./index.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js??ref--9-1!../../node_modules/postcss-loader/src/index.js??ref--9-2!../../node_modules/sass-loader/lib/loader.js??ref--9-3!./index.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".c-sf-add-button {\\n  width: 100%;\\n  height: 34px;\\n  -webkit-appearance: none;\\n     -moz-appearance: none;\\n          appearance: none;\\n  border: 0 none;\\n  color: #007d7e;\\n  font-weight: bold;\\n  background: none;\\n  padding: 0;\\n  cursor: pointer;\\n  outline: none;\\n  -webkit-backface-visibility: hidden;\\n          backface-visibility: hidden;\\n  overflow: hidden;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  opacity: 0;\\n  transition: opacity 0.3s ease-in-out;\\n  pointer-events: none;\\n}\\n.c-sf-add-button i {\\n  display: block;\\n  transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);\\n  font-style: normal;\\n  font-size: 28px;\\n  line-height: 34px;\\n}\\n.c-sf-add-button--visible {\\n  opacity: 1;\\n  pointer-events: unset;\\n}\\n.c-sf-add-button--closed i {\\n  transform: rotate(45deg);\\n}\\n\\n.c-sf-add-panel {\\n  position: relative;\\n  padding: 7.5px;\\n  background: #EEEEEE;\\n  border-radius: 3px;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n.c-sf-add-panel__group-title {\\n  margin: 7.5px 7.5px 0;\\n}\\n\\n.c-sf-button {\\n  margin: 7.5px;\\n  -webkit-appearance: none;\\n     -moz-appearance: none;\\n          appearance: none;\\n  background: #007d7e;\\n  padding: 0;\\n  border: 0 none;\\n  border-radius: 3px;\\n  outline: none;\\n  cursor: pointer;\\n  overflow: hidden;\\n}\\n.c-sf-button__icon, .c-sf-button__label {\\n  display: inline-block;\\n  color: white;\\n  font-weight: normal;\\n}\\n.c-sf-button__icon {\\n  padding: 6px 0 6px 8px;\\n}\\n.c-sf-button__label {\\n  padding: 6px 8px;\\n  text-transform: uppercase;\\n}\\n\\n.c-sf-block {\\n  flex: 1 1 auto;\\n  margin: 4px 0;\\n  border: 1px solid #e6e6e6;\\n  border-radius: 3px;\\n  background: white;\\n  transition: border-color 0.3s ease-in-out;\\n  transition-property: border-color, box-shadow;\\n}\\n.c-sf-block__header {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding-left: 8px;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  transition: background-color 0.3s ease-in-out;\\n  cursor: default;\\n}\\n.c-sf-block__header--collapsible {\\n  cursor: pointer;\\n}\\n.c-sf-block__header--sortable {\\n  cursor: grab;\\n}\\n.c-sf-block__header__title {\\n  display: inline-block;\\n  flex: 1 1 auto;\\n  margin: 0;\\n  color: #888888;\\n  vertical-align: middle;\\n}\\n.c-sf-block__header__title__icon {\\n  color: currentColor;\\n  transition: color 0.3s ease-in-out;\\n}\\n.c-sf-block__content-inner {\\n  padding: 12px;\\n}\\n.c-sf-block__actions {\\n  white-space: nowrap;\\n}\\n.c-sf-block__actions__single {\\n  -webkit-appearance: none;\\n     -moz-appearance: none;\\n          appearance: none;\\n  border: 0 none;\\n  padding: 8px 8px;\\n  background: none;\\n  cursor: pointer;\\n  color: #888888;\\n  opacity: 1;\\n  transition: opacity 0.3s ease-in-out;\\n  transition-property: opacity, color;\\n  font-size: 15px;\\n}\\n.c-sf-block__actions__single i {\\n  font-style: normal;\\n}\\n.c-sf-block__actions__single i:before {\\n  margin: 0;\\n}\\n.c-sf-block__actions__single[disabled] {\\n  opacity: 0.2;\\n  pointer-events: none;\\n}\\n.c-sf-block__type {\\n  margin-right: 16px;\\n  text-transform: uppercase;\\n  text-align: right;\\n  font-size: 80%;\\n  line-height: 100%;\\n  color: #888888;\\n  vertical-align: middle;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n.c-sf-block.c-sf-block--error {\\n  border-color: #dbc7c8;\\n}\\n.c-sf-block.c-sf-block--error > .c-sf-block__header {\\n  background: #fbefef;\\n}\\n.c-sf-block.c-sf-block--error:hover, .c-sf-block.c-sf-block--error:focus, .c-sf-block.c-sf-block--error:focus-within {\\n  border-color: #cdb2b3;\\n}\\n.c-sf-block.c-sf-block--error:hover > .c-sf-block__header, .c-sf-block.c-sf-block--error:focus > .c-sf-block__header, .c-sf-block.c-sf-block--error:focus-within > .c-sf-block__header {\\n  background: #fbefef;\\n}\\n.c-sf-block.SIMPLE {\\n  display: flex;\\n  flex-flow: row nowrap;\\n}\\n.c-sf-block.SIMPLE > .c-sf-block__header {\\n  position: relative;\\n  flex: 0 0 auto;\\n  padding: 8px 8px;\\n}\\n.c-sf-block.SIMPLE > .c-sf-block__header .c-sf-block__header__title {\\n  position: -webkit-sticky;\\n  position: sticky;\\n  top: 7.5px;\\n  bottom: 7.5px;\\n}\\n.c-sf-block.SIMPLE > .c-sf-block__content {\\n  flex: 1 1 auto;\\n  display: flex;\\n  flex-flow: column nowrap;\\n  justify-content: space-around;\\n  width: 0;\\n}\\n.c-sf-block.SIMPLE > .c-sf-block__aside {\\n  display: flex;\\n  flex-flow: column nowrap;\\n  align-items: flex-end;\\n}\\n.c-sf-block.SIMPLE > .c-sf-block__aside .c-sf-block__type {\\n  margin: 0 8px 8px 8px;\\n}\\n.c-sf-block.COLLAPSIBLE {\\n  overflow: hidden;\\n}\\n.c-sf-block.COLLAPSIBLE > .c-sf-block__header .c-sf-block__header__title {\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n}\\n.c-sf-block.COLLAPSIBLE > .c-sf-block__header .c-sf-block__header__title__icon {\\n  margin-right: 8px;\\n}\\n.c-sf-block.COLLAPSIBLE > .c-sf-block__header > .c-sf-block__aside {\\n  flex: 0 0 auto;\\n}\\n.c-sf-block:hover, .c-sf-block:focus, .c-sf-block:focus-within {\\n  border-color: #bbbbbb;\\n  box-shadow: 3px 2px 3px -1px rgba(0, 0, 0, 0.1);\\n}\\n.c-sf-block:hover > .c-sf-block__header, .c-sf-block:focus > .c-sf-block__header, .c-sf-block:focus-within > .c-sf-block__header {\\n  background: #f5f5f5;\\n}\\n.c-sf-block:hover > .c-sf-block__header .c-sf-block__header__title,\\n.c-sf-block:hover > .c-sf-block__header .c-sf-block__actions__single, .c-sf-block:focus > .c-sf-block__header .c-sf-block__header__title,\\n.c-sf-block:focus > .c-sf-block__header .c-sf-block__actions__single, .c-sf-block:focus-within > .c-sf-block__header .c-sf-block__header__title,\\n.c-sf-block:focus-within > .c-sf-block__header .c-sf-block__actions__single {\\n  color: #4d4d4d;\\n}\\n\\n.c-sf-container {\\n  position: relative;\\n  display: flex;\\n  flex-flow: column nowrap;\\n  padding: 17px 0;\\n  transition: padding 0.3s ease-in-out;\\n}\\n.c-sf-container__block-container {\\n  position: relative;\\n  display: flex;\\n  flex-flow: column nowrap;\\n}\\n@media (min-width: 800px) {\\n  .c-sf-container--add-in-gutter {\\n    padding-left: 34px;\\n  }\\n  .c-sf-container--add-in-gutter .c-sf-add-button {\\n    width: 34px;\\n    height: 0;\\n    transform: translate(-100%, -17px);\\n    overflow: visible;\\n  }\\n}\\n.c-sf-container .field + .field {\\n  padding-top: 15px;\\n}\\n.c-sf-container .field__label {\\n  display: block;\\n  font-weight: bold;\\n  margin-bottom: 7.5px;\\n}\\n.c-sf-container .field.required > label::after {\\n  content: \\\"*\\\";\\n  color: #cd3238;\\n  font-weight: 700;\\n  display: inline-block;\\n  margin-left: 0.5em;\\n  line-height: 1em;\\n  font-size: 13px;\\n}\", \"\", {\"version\":3,\"sources\":[\"/home/bertrand/PycharmProjects/react-streamfield/src/scss/index.scss\",\"/home/bertrand/PycharmProjects/react-streamfield/src/scss/_variables.scss\",\"/home/bertrand/PycharmProjects/react-streamfield/src/scss/components/c-sf-add-panel.scss\",\"/home/bertrand/PycharmProjects/react-streamfield/src/scss/components/c-sf-button.scss\",\"/home/bertrand/PycharmProjects/react-streamfield/src/scss/components/c-sf-block.scss\",\"/home/bertrand/PycharmProjects/react-streamfield/src/scss/components/c-sf-container.scss\"],\"names\":[],\"mappings\":\"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\",\"file\":\"index.scss\",\"sourcesContent\":[\".c-sf-add-button {\\n    width: 100%;\\n    height: $add-button-size;\\n    appearance: none;\\n    border: 0 none;\\n    color: $teal;\\n    font-weight: bold;\\n    background: none;\\n    padding: 0;\\n    cursor: pointer;\\n    outline: none;\\n    backface-visibility: hidden;\\n    overflow: hidden; // Makes the rotated i box not clickable.\\n    user-select: none;\\n    opacity: 0;\\n    transition: opacity $hover-transition-duration ease-in-out;\\n    pointer-events: none;\\n\\n    i {\\n        display: block;\\n        transition: transform $add-transition-duration $bounce-transition-timing;\\n        font-style: normal;\\n        font-size: $add-button-font-size;\\n        line-height: $add-button-size;\\n    }\\n\\n    &--visible {\\n        opacity: 1;\\n        pointer-events: unset;\\n    }\\n\\n    &--closed i {\\n        transform: rotate(45deg);\\n    }\\n}\\n\",\"$grid-gutter-width: 30px !default;\\n$header-padding-horizontal: 8px !default;\\n$header-padding-vertical: 8px !default;\\n$block-margin-vertical: 4px !default;\\n$block-margin-horizontal: 0 !default;\\n$add-button-size: 34px !default;\\n$add-button-font-size: 28px !default;\\n$type-button-padding-vertical: 6px !default;\\n$type-button-padding-horizontal: 8px !default;\\n$children-container-padding: $add-button-size / 2 !default;\\n$action-font-size: 15px !default;\\n$add-transition-duration: 0.3s !default;\\n$hover-transition-duration: 0.3s !default;\\n$bounce-transition-timing: cubic-bezier(0.175, 0.885, 0.32, 1.275) !default;\\n$border-radius: 3px !default;\\n$teal: #007d7e !default;\\n$header-text-color-focus: #4d4d4d !default;\\n$header-text-color: #888888 !default;\\n$block-border-color: #e6e6e6 !default;\\n$block-border-color-focus: #bbbbbb !default;\\n$block-hover-background: #f5f5f5 !default;\\n$error-color: #cd3238 !default;\\n$error-border-color: #dbc7c8 !default;\\n$error-border-color-focus: #cdb2b3 !default;\\n$error-background-color: #fbefef !default;\\n$screen-xs-max: 799px !default;\\n$screen-sm-min: 800px !default;\\n\",\".c-sf-add-panel {\\n    position: relative;\\n    padding: $grid-gutter-width / 4;\\n    background: #EEEEEE;\\n    border-radius: $border-radius;\\n    user-select: none;\\n    &__group-title {\\n        margin: $grid-gutter-width / 4 $grid-gutter-width / 4 0;\\n    }\\n}\\n\",\".c-sf-button {\\n    margin: $grid-gutter-width / 4;\\n    appearance: none;\\n    background: $teal;\\n    padding: 0;\\n    border: 0 none;\\n    border-radius: $border-radius;\\n    outline: none;\\n    cursor: pointer;\\n    overflow: hidden;\\n\\n    &__icon,\\n    &__label {\\n        display: inline-block;\\n\\n        // Fixes for label elements getting global `label` styles from Wagtail -@jonnyscholes\\n        color: white;\\n        font-weight: normal;\\n    }\\n\\n    &__icon {\\n        padding: $type-button-padding-vertical 0\\n                 $type-button-padding-vertical $type-button-padding-horizontal;\\n    }\\n\\n    &__label {\\n        padding: $type-button-padding-vertical $type-button-padding-horizontal;\\n        text-transform: uppercase;\\n    }\\n}\\n\",\"// TODO: Reduce nesting further by splitting out more components.\\n//\\n// Theres quite a lot of nesting in here which makes parsing some segments difficult.\\n// Some of this is to deal with the fact that .c-sf-block can contain many .c-sf-block's and so is\\n// legitimate. A lot of these would ideally be their own components (eg the actions) however there\\n// is a lot of interdependancy of the elements because of COLLAPSIBLE vs SIMPLE vs default which\\n// makes this hard without fairly intensive rethinking of the HTML.\\n//\\n// However, the new classes adequately sanitise streamfield only CSS so am leaving this for\\n// now to avoid blocking the release of the new Streamfield. -@jonnyscholes\\n\\n// TODO: Consider visually moving .c-sf-block__type and .c-sf-block__actions based on COLLAPSIBLE vs\\n// SIMPLE vs default using CSS only instead of moving HTML around. -@jonnyscholes\\n\\n.c-sf-block {\\n    flex: 1 1 auto;\\n    margin: $block-margin-vertical $block-margin-horizontal;\\n    border: 1px solid $block-border-color;\\n    border-radius: $border-radius;\\n    background: white;\\n    transition: border-color $hover-transition-duration ease-in-out;\\n    transition-property: border-color, box-shadow;\\n\\n    &__header {\\n        display: flex;\\n        justify-content: space-between;\\n        align-items: center;\\n        padding-left: $header-padding-horizontal;\\n        user-select: none;\\n        transition: background-color $hover-transition-duration ease-in-out;\\n        cursor: default;\\n\\n        &--collapsible {\\n            cursor: pointer;\\n        }\\n\\n        &--sortable {\\n            cursor: grab;\\n        }\\n\\n        &__title {\\n            display: inline-block;\\n            flex: 1 1 auto;\\n            margin: 0;\\n            color: $header-text-color;\\n            vertical-align: middle;\\n\\n            &__icon {\\n                color: currentColor;\\n                transition: color $hover-transition-duration ease-in-out;\\n            }\\n        }\\n    }\\n\\n    &__content {\\n        &-inner {\\n            padding: 12px;\\n        }\\n    }\\n\\n    &__actions {\\n        white-space: nowrap;\\n\\n        &__single {\\n            appearance: none;\\n            border: 0 none;\\n            padding: $header-padding-vertical $header-padding-horizontal;\\n            background: none;\\n            cursor: pointer;\\n            color: $header-text-color;\\n            opacity: 1;\\n            transition: opacity $hover-transition-duration ease-in-out;\\n            transition-property: opacity, color;\\n            font-size: $action-font-size;\\n\\n\\n            i {\\n                font-style: normal;\\n                &:before {\\n                    margin: 0;\\n                }\\n            }\\n\\n            &[disabled] {\\n                opacity: 0.2;\\n                pointer-events: none;\\n            }\\n        }\\n    }\\n\\n    &__type {\\n        margin-right: $header-padding-horizontal * 2;\\n        text-transform: uppercase;\\n        text-align: right;\\n        font-size: 80%;\\n        line-height: 100%;\\n        color: $header-text-color;\\n        vertical-align: middle;\\n        user-select: none;\\n    }\\n\\n    &.c-sf-block--error {\\n        border-color: $error-border-color;\\n\\n        > .c-sf-block__header {\\n            background: $error-background-color;\\n        }\\n\\n        &:hover,\\n        &:focus,\\n        &:focus-within {\\n            border-color: $error-border-color-focus;\\n\\n            > .c-sf-block__header {\\n                background: $error-background-color;\\n            }\\n        }\\n    }\\n\\n    &.SIMPLE {\\n        display: flex;\\n        flex-flow: row nowrap;\\n\\n        > .c-sf-block__header {\\n            position: relative;\\n            flex: 0 0 auto;\\n            padding: $header-padding-vertical $header-padding-horizontal;\\n\\n            .c-sf-block__header__title {\\n                position: sticky;\\n                top: $grid-gutter-width / 4;\\n                bottom: $grid-gutter-width / 4;\\n            }\\n        }\\n\\n        > .c-sf-block__content {\\n            flex: 1 1 auto;\\n            display: flex;\\n            flex-flow: column nowrap;\\n            justify-content: space-around;\\n            width: 0; // Trick to prevent content from overflowing, while\\n            // allowing for some overflow, like Draftail tooltips.\\n        }\\n\\n        > .c-sf-block__aside {\\n            display: flex;\\n            flex-flow: column nowrap;\\n            align-items: flex-end;\\n\\n            .c-sf-block__type {\\n                margin: 0 $header-padding-horizontal\\n                        $header-padding-vertical $header-padding-horizontal;\\n            }\\n        }\\n    }\\n\\n    &.COLLAPSIBLE {\\n        overflow: hidden;\\n\\n        > .c-sf-block__header {\\n            .c-sf-block__header__title {\\n                white-space: nowrap;\\n                text-overflow: ellipsis;\\n                overflow: hidden;\\n            }\\n\\n            .c-sf-block__header__title__icon {\\n                margin-right: $header-padding-horizontal;\\n            }\\n\\n            > .c-sf-block__aside {\\n                flex: 0 0 auto;\\n            }\\n        }\\n    }\\n\\n    &:hover,\\n    &:focus,\\n    &:focus-within {\\n        border-color: $block-border-color-focus;\\n        box-shadow: 3px 2px 3px -1px rgba(0, 0, 0, 0.1);\\n\\n        > .c-sf-block__header {\\n            background: $block-hover-background;\\n\\n            .c-sf-block__header__title,\\n            .c-sf-block__actions__single {\\n                color: $header-text-color-focus;\\n            }\\n        }\\n    }\\n}\\n\",\".c-sf-container {\\n    position: relative;\\n    display: flex;\\n    flex-flow: column nowrap;\\n    padding: $children-container-padding 0;\\n    transition: padding $hover-transition-duration ease-in-out;\\n\\n    &__block-container {\\n        position: relative;\\n        display: flex;\\n        flex-flow: column nowrap;\\n    }\\n\\n    &--add-in-gutter {\\n        @media (min-width: $screen-sm-min) {\\n            padding-left: $add-button-size;\\n\\n            .c-sf-add-button {\\n                width: $add-button-size;\\n                height: 0;\\n                transform: translate(-100%, -$add-button-size / 2);\\n                overflow: visible;\\n            }\\n        }\\n    }\\n\\n    // TODO: Remove these references to classes that are styled by core Wagtail CSS. The best\\n    // opportunity for this is propably as part of Wagtails general CSS overhaul. -@jonnyscholes\\n    .field {\\n        + .field {\\n            padding-top: $grid-gutter-width / 2;\\n        }\\n\\n        &__label {\\n            display: block;\\n            font-weight: bold;\\n            margin-bottom: $grid-gutter-width / 4;\\n        }\\n\\n        &.required > label::after {\\n            content: '*';\\n            color: #cd3238;\\n            font-weight: 700;\\n            display: inline-block;\\n            margin-left: 0.5em;\\n            line-height: 1em;\\n            font-size: 13px;\\n        }\\n    }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","import { storiesOf } from '@storybook/react';\nimport React from 'react';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\n\n// Polyfills\nimport 'core-js/shim'\nimport 'element-closest';\nimport 'custom-event-polyfill';\n\nimport { StreamField, streamFieldReducer } from '../src';\n\nimport { complexNestedStreamField } from './samples'\n\nconst store = createStore(streamFieldReducer, applyMiddleware(thunk));\n\nstoriesOf('React StreamField demo', module)\n.addDecorator(story => <Provider store={store}>{story()}</Provider>)\n  .add('1 block type', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'title',\n          icon: '<i class=\"fas fa-heading fa-fw\"></i>',\n          className: 'full title',\n          html: '<input type=\"text\" name=\"field-__ID__\" />'\n        }\n      ],\n      value: [{ type: 'title', value: 'Wagtail is awesome!' }]\n    };\n    return <StreamField {...props} id='stream' />;\n  })\n  .add('1 open block type', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'title',\n          icon: '<i class=\"fas fa-heading fa-fw\"></i>',\n          className: 'full title',\n          closed: false,\n          html: '<input type=\"text\" name=\"field-__ID__\" />'\n        }\n      ],\n      value: [{ type: 'title', value: 'Wagtail is awesome!' }]\n    };\n    return <StreamField {...props} id='stream' />;\n  })\n  .add('1 static block type', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'static',\n          isStatic: true,\n          html: 'Some static block'\n        }\n      ],\n      value: [{ type: 'static' }]\n    };\n    return <StreamField {...props} id='stream' />;\n  })\n  .add('1 block type, default value', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'title',\n          default: 'The default title',\n          icon: '<i class=\"fas fa-heading fa-fw\"></i>',\n          className: 'full title',\n          html: '<input type=\"text\" name=\"field-__ID__\" />'\n        }\n      ],\n      value: [{ type: 'title', value: 'Wagtail is awesome!' }]\n    };\n    return <StreamField {...props} id='stream' />;\n  })\n  .add('1 block type, custom per-value HTML', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'title',\n          icon: '<i class=\"fas fa-heading fa-fw\"></i>',\n          className: 'full title',\n          html: '<input type=\"text\" name=\"field-__ID__\" />'\n        }\n      ],\n      value: [\n        {\n          type: 'title',\n          html:\n            '<div style=\"padding: 6px 12px 0; color: grey;\">Do you see it?</div> <input type=\"text\" name=\"field-__ID__\" />',\n          value: 'Custom HTML for this value!'\n        },\n        { type: 'title', value: 'This time, no custom HTML.' }\n      ]\n    };\n    return <StreamField {...props} id='stream' />;\n  })\n  .add('2 block types', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'title',\n          icon: '<i class=\"fas fa-heading fa-fw\"></i>',\n          className: 'full title',\n          html: '<input type=\"text\" name=\"field-__ID__\" />'\n        },\n        {\n          key: 'text',\n          icon: '<i class=\"fas fa-align-justify fa-fw\"></i>',\n          className: 'full',\n          html: '<textarea name=\"field-__ID__\"></textarea>'\n        }\n      ],\n      value: [\n        { type: 'title', value: 'Wagtail is awesome!' },\n        { type: 'text', value: 'And it’s always getting better 😃' }\n      ]\n    };\n    return <StreamField {...props} id='stream' />;\n  })\n  .add('List block, 1 child block type', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'list',\n          children: [\n            {\n              key: 'bool',\n              html: '<input type=\"checkbox\" name=\"field-__ID__\" />'\n            }\n          ]\n        }\n      ],\n      value: [\n        {\n          type: 'list',\n          value: [{ type: 'bool', value: true }, { type: 'bool', value: false }]\n        }\n      ]\n    };\n\n    return <StreamField {...props} id='stream' />;\n  })\n  .add('List block, 1 child block type, default value', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'list',\n          children: [\n            {\n              key: 'bool',\n              html: '<input type=\"checkbox\" name=\"field-__ID__\" />'\n            }\n          ],\n          default: [{ type: 'bool', value: true }]\n        }\n      ],\n      value: []\n    };\n    return <StreamField {...props} id='stream' />;\n  })\n  .add('List block, 1 child block type, custom HTML', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'list',\n          children: [\n            {\n              key: 'bool',\n              html: '<input type=\"checkbox\" name=\"field-__ID__\" />'\n            }\n          ],\n          html:\n            'As you can see by this text, it’s possible <strong>to insert some HTML</strong> before or after the contained blocks. <noscript data-blocks-container></noscript> You can even have multiple times the same blocks container. <noscript data-blocks-container></noscript> Can’t think of a case where that would be useful, but still, it’s possible if you really want it.'\n        }\n      ],\n      value: []\n    };\n    return <StreamField {...props} id='stream' />;\n  })\n  .add('List block, 2 children block types with groups', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'list',\n          children: [\n            {\n              key: 'title',\n              icon: '<i class=\"fas fa-heading fa-fw\"></i>',\n              className: 'full title',\n              group: 'Text',\n              html: '<input type=\"text\" name=\"field-__ID__\" />'\n            },\n            {\n              key: 'bool',\n              group: 'Other',\n              html: '<input type=\"checkbox\" name=\"field-__ID__\" />'\n            },\n            {\n              key: 'second_bool',\n              group: 'Other',\n              html: '<input type=\"checkbox\" name=\"field-__ID__\" />'\n            },\n            {\n              key: 'third_bool',\n              html: '<input type=\"checkbox\" name=\"field-__ID__\" />'\n            }\n          ],\n          default: [\n            { type: 'title', value: 'Lorem ipsum' },\n            { type: 'bool', value: true }\n          ]\n        }\n      ],\n      value: [\n        {\n          type: 'list',\n          value: [\n            { type: 'title', value: 'NoriPyt rocks!' },\n            { type: 'bool', value: false }\n          ]\n        }\n      ]\n    };\n    return <StreamField {...props} id='stream' />;\n  })\n  .add('Simple block layout', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'title',\n          layout: 'SIMPLE',\n          icon: '<i class=\"fas fa-heading fa-fw\"></i>',\n          className: 'full title',\n          html: '<input type=\"text\" name=\"field-__ID__\" />'\n        },\n        {\n          key: 'text',\n          layout: 'SIMPLE',\n          icon: '<i class=\"fas fa-align-justify fa-fw\"></i>',\n          className: 'full',\n          html: '<textarea name=\"field-__ID__\"></textarea>'\n        },\n        {\n          key: 'static',\n          layout: 'SIMPLE',\n          isStatic: true,\n          html: 'Some static block'\n        }\n      ],\n      value: [\n        { type: 'title', value: 'Wagtail is awesome!' },\n        { type: 'text', value: 'And it’s always getting better 😃' },\n        { type: 'static' }\n      ]\n    };\n    return <StreamField {...props} id='stream' />;\n  })\n  .add('Mixed block layouts', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'title',\n          layout: 'SIMPLE',\n          icon: '<i class=\"fas fa-heading fa-fw\"></i>',\n          className: 'full title',\n          html: '<input type=\"text\" name=\"field-__ID__\" />'\n        },\n        {\n          key: 'text',\n          icon: '<i class=\"fas fa-align-justify fa-fw\"></i>',\n          className: 'full',\n          html: '<textarea name=\"field-__ID__\"></textarea>'\n        },\n        {\n          key: 'static',\n          layout: 'SIMPLE',\n          isStatic: true,\n          html: 'Some static block'\n        }\n      ],\n      value: [\n        { type: 'title', value: 'Wagtail is awesome!' },\n        { type: 'text', value: 'And it’s always getting better 😃' },\n        { type: 'static' }\n      ]\n    };\n    return <StreamField {...props} id='stream' />;\n  })\n  .add('Gutter of add buttons', () => {\n    const props = {\n      required: true,\n      gutteredAdd: true,\n      blockDefinitions: [\n        {\n          key: 'text',\n        }\n      ],\n      value: []\n    };\n    return <StreamField {...props} id='stream' />\n  })\n  .add('Maximum number of blocks', () => {\n    const props = {\n      required: true,\n      minNum: null,\n      maxNum: 2,\n      blockDefinitions: [\n        {\n          key: 'list',\n          maxNum: 5,\n          children: [\n            {\n              key: 'bool',\n              html: '<input type=\"checkbox\" name=\"field-__ID__\" />'\n            }\n          ]\n        }\n      ],\n      value: [\n        {\n          type: 'list',\n          value: [{ type: 'bool', value: true }, { type: 'bool', value: false }]\n        }\n      ]\n    };\n    return <StreamField {...props} id='stream' />;\n  })\n  .add('Error in one of the nested blocks', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'list',\n          children: [\n            {\n              key: 'bool',\n              html: '<input type=\"checkbox\" name=\"field-__ID__\" />'\n            }\n          ]\n        }\n      ],\n      value: [\n        {\n          type: 'list',\n          value: [\n            { type: 'bool', value: true },\n            { type: 'bool', value: false, hasError: true }\n          ]\n        }\n      ]\n    };\n    return <StreamField {...props} id='stream' />;\n  })\n  .add('Struct block', () => {\n    const props = {\n      blockDefinitions: [\n        {\n          key: 'struct',\n          isStruct: true,\n          children: [\n            {\n              key: 'some_field'\n            },\n            {\n              key: 'another_field'\n            }\n          ],\n          label: 'Struct'\n        }\n      ],\n      value: []\n    };\n    return <StreamField {...props} id='stream' />;\n  })\n  .add('Struct block with default value', () => {\n    const props = {\n      blockDefinitions: [\n        {\n          key: 'struct',\n          isStruct: true,\n          children: [\n            {\n              key: 'some_field',\n              default: 'Lorem'\n            },\n            {\n              key: 'another_field',\n              default: 'Ipsum'\n            }\n          ],\n          label: 'Struct'\n        }\n      ],\n      value: []\n    };\n\n    return <StreamField {...props} id='stream' />;\n  })\n  .add('Struct block with custom HTML', () => {\n    const props = {\n      blockDefinitions: [\n        {\n          key: 'struct',\n          isStruct: true,\n          children: [\n            {\n              key: 'some_field'\n            },\n            {\n              key: 'another_field'\n            }\n          ],\n          label: 'Struct',\n          html:\n            'Like for lists, we can add HTML before struct fields <noscript data-blocks-container></noscript> and after as well.'\n        }\n      ],\n      value: []\n    };\n    return <StreamField {...props} id='stream' />;\n  })\n  .add('Struct block as a struct block field', () => {\n    const props = {\n      value: [],\n      blockDefinitions: [\n        {\n          key: 'struct',\n          isStruct: true,\n          children: [\n            {\n              key: 'some_field'\n            },\n            {\n              key: 'link',\n              isStruct: true,\n              children: [\n                {\n                  key: 'url',\n                  label: 'URL',\n                  default: 'https://noripyt.com'\n                },\n                {\n                  key: 'email',\n                  label: 'E-mail'\n                }\n              ]\n            },\n            {\n              key: 'another_field'\n            }\n          ],\n          label: 'Struct'\n        }\n      ]\n    };\n    return <StreamField {...props} id='stream' />;\n  })\n  .add('StructBlock as a list block child', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'list',\n          children: [\n            {\n              key: 'link',\n              isStruct: true,\n              children: [\n                {\n                  key: 'url',\n                  label: 'URL'\n                },\n                {\n                  key: 'email',\n                  label: 'E-mail'\n                }\n              ]\n            }\n          ]\n        }\n      ],\n      value: []\n    };\n    return <StreamField {...props} id='stream' />;\n  })\n  .add('Complex nested StreamField', () => {\n    return <StreamField {...complexNestedStreamField} id='stream' />;\n  })\n  .add('Custom action icons', () => {\n    const props = {\n      required: true,\n      icons: {\n        add: '<i aria-hidden=\"true\">⊕</i>',\n        moveUp: '<i aria-hidden=\"true\">⇑</i>',\n        moveDown: '<i aria-hidden=\"true\">⇓</i>',\n        duplicate: '<i aria-hidden=\"true\">⎘</i>',\n        delete: '<i aria-hidden=\"true\">×</i>',\n        grip: '<i aria-hidden=\"true\">↕</i>'\n      },\n      blockDefinitions: [\n        {\n          key: 'title',\n          layout: 'SIMPLE',\n          className: 'full title',\n          html: '<input type=\"text\" name=\"field-__ID__\" />'\n        }\n      ],\n      value: [{ type: 'title', value: 'Wagtail is awesome!' }]\n    };\n\n    return <StreamField {...props} id='stream' />;\n  })\n  .add('JavaScript widget', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'date',\n          layout: 'SIMPLE',\n          dangerouslyRunInnerScripts: true,\n          html: '<input type=\"text\" name=\"field-__ID__\" id=\"field-__ID__\" />' +\n            '<script>flatpickr(\"#field-__ID__\");</script>',\n        },\n      ],\n      value: [],\n    };\n    return <StreamField {...props} id=\"stream\" />;\n  });\n","import {\n  applyToBlocks,\n  getBlockDefinition,\n  getChildrenIds,\n  getDescendantsIds,\n  getNestedBlockDefinition,\n  getNewBlock, getNewId,\n  isField,\n  isStruct,\n} from './utils';\n\n\nexport const updateChildren = (state, fieldId, parentId) => {\n  const childrenIds = getChildrenIds(state, fieldId, parentId);\n  return applyToBlocks(state, fieldId, childrenIds, block => ({\n    ...block,\n    shouldUpdate: true,\n  }));\n};\n\n\nexport const setChildren = (state, fieldId, parentId, childrenIds) => {\n  let fieldData = state[fieldId];\n  let blocks = fieldData.blocks;\n  if (parentId === null) {\n    fieldData = {...fieldData, rootBlocks: childrenIds};\n  } else {\n    blocks = {\n      ...blocks,\n      [parentId]: {...blocks[parentId], value: childrenIds},\n    };\n  }\n  return {\n    ...state,\n    [fieldId]: {\n      ...fieldData,\n      blocks: blocks,\n    },\n  };\n};\n\n\nexport const insertBlock = (state, fieldId, parentId, index,\n                            blockId, block) => {\n  const siblingsIds = [...getChildrenIds(state, fieldId, parentId)];\n  siblingsIds.splice(index, 0, blockId);\n  state = setChildren(state, fieldId, parentId, siblingsIds);\n\n  const fieldData = state[fieldId];\n  const blocks = fieldData.blocks;\n  state = {\n    ...state,\n    [fieldId]: {\n      ...fieldData,\n      blocks: {\n        ...blocks,\n        [blockId]: block,\n      },\n    },\n  };\n  return updateChildren(state, fieldId, parentId);\n};\n\n\nexport const moveBlock = (state, fieldId, blockId, newIndex) => {\n  if (newIndex < 0) {\n    throw new Error(`Index ${newIndex} is out of bounds.`);\n  }\n  const fieldData = state[fieldId];\n  let blocks = fieldData.blocks;\n  const block = blocks[blockId];\n  const siblingsIds = [...getChildrenIds(state, fieldId, block.parent)];\n\n  if (newIndex >= siblingsIds.length) {\n    throw new Error(`Index ${newIndex} is out of bounds.`);\n  }\n\n  const oldIndex = siblingsIds.indexOf(blockId);\n  siblingsIds.splice(oldIndex, 1);\n  siblingsIds.splice(newIndex, 0, blockId);\n\n  state = setChildren(state, fieldId, block.parent, siblingsIds);\n  return updateChildren(state, fieldId, block.parent);\n};\n\n\nexport const addBlock = (state, fieldId, parentId, index, type) => {\n  const fieldData = state[fieldId];\n  let blockDefinitions;\n  if (parentId === null) {\n    blockDefinitions = fieldData.blockDefinitions;\n  } else {\n    const parentBlockDefinition = getNestedBlockDefinition(state, fieldId,\n                                                           parentId);\n    blockDefinitions = parentBlockDefinition.children;\n  }\n  const blockDefinition = getBlockDefinition(blockDefinitions, type);\n  const [blockId, block, extraBlocks] = getNewBlock(parentId, blockDefinition);\n  state = {\n    ...state,\n    [fieldId]: {\n      ...fieldData,\n      blocks: {\n        ...fieldData.blocks,\n        ...extraBlocks,\n      },\n    },\n  };\n  return insertBlock(state, fieldId, parentId, index, blockId, block);\n};\n\n\nexport const getIndex = (state, fieldId, blockId) => {\n  const block = state[fieldId].blocks[blockId];\n  const siblingsIds = [...getChildrenIds(state, fieldId, block.parent)];\n  return siblingsIds.indexOf(blockId);\n};\n\n\nexport const cloneBlock = (state, fieldId, parentId, blockId) => {\n  const fieldData = state[fieldId];\n  const blocks = {...fieldData.blocks};\n  const newBlockId = getNewId();\n  const newBlock = {...blocks[blockId], parent: parentId};\n  let newBlocks = {[newBlockId]: newBlock};\n  const blockDefinition = getNestedBlockDefinition(state, fieldId, blockId);\n  let value = newBlock.value;\n\n  if (isStruct(blockDefinition)) {\n    const newValue = [];\n    for (let childBlockId of value) {\n      let [newChildId, newChildrenBlocks] =\n        cloneBlock(state, fieldId, newBlockId, childBlockId);\n      newBlocks = {...newBlocks, ...newChildrenBlocks};\n      newValue.push(newChildId);\n    }\n    value = newValue;\n  } else if (!isField(blockDefinition)) {\n    const newValue = [];\n    for (let childBlockId of value) {\n      const [newChildBlockId, newChildrenBlocks] =\n        cloneBlock(state, fieldId, newBlockId, childBlockId);\n      newValue.push(newChildBlockId);\n      newBlocks = {...newBlocks, ...newChildrenBlocks};\n    }\n    value = newValue;\n  }\n  newBlock.value = value;\n  return [newBlockId, newBlocks];\n};\n\n\nexport const duplicateBlock = (state, fieldId, blockId) => {\n  const fieldData = state[fieldId];\n  const blocks = fieldData.blocks;\n  const parentId = blocks[blockId].parent;\n  const [newBlockId, newBlocks] =\n    cloneBlock(state, fieldId, parentId, blockId);\n  state = {\n    ...state,\n    [fieldId]: {\n      ...fieldData,\n      blocks: {\n        ...blocks,\n        ...newBlocks,\n      },\n    },\n  };\n  const block = newBlocks[newBlockId];\n  block.hidden = true;\n  const index = getIndex(state, fieldId, blockId) + 1;  // + 1 to add after.\n  return insertBlock(state, fieldId, parentId, index, newBlockId, block);\n};\n\n\nexport const deleteBlock = (state, fieldId, blockId) => {\n  const fieldData = state[fieldId];\n  let rootBlocks = [...fieldData.rootBlocks];\n  const blocks = {...fieldData.blocks};\n  const block = blocks[blockId];\n  let shouldUpdateSiblings = true;\n  if (block.parent === null) {\n    rootBlocks = rootBlocks.filter(childBlockId => childBlockId !== blockId);\n  } else {\n    const parentBlockDefinition = getNestedBlockDefinition(state, fieldId,\n                                                           block.parent);\n    const parentBlock = blocks[block.parent];\n    if (isStruct(parentBlockDefinition)) {\n      shouldUpdateSiblings = false;\n    }\n    blocks[block.parent] = {\n      ...parentBlock,\n      closed: false,       // We make sure it’s open for when we remove\n      shouldUpdate: true,  // an errored block from a list block, and we\n                           // force update the header color.\n      value: parentBlock.value.filter(\n        childBlockId => childBlockId !== blockId),\n    };\n  }\n  for (let descendantBlockId of getDescendantsIds(state, fieldId, blockId,\n                                                  true)) {\n    delete blocks[descendantBlockId];\n  }\n  state = {\n    ...state,\n    [fieldId]: {\n      ...fieldData,\n      rootBlocks,\n      blocks,\n    },\n  };\n  if (shouldUpdateSiblings) {\n    return updateChildren(state, fieldId, block.parent);\n  }\n  return state;\n};\n","import React from 'react';\nimport {\n  addBlock,\n  deleteBlock,\n  duplicateBlock,\n  moveBlock\n} from './processing/reducers';\nimport {valueToState} from './processing/conversions';\nimport {\n  applyToBlock,\n  deepCopy,\n  getNestedBlockDefinition, isStruct\n} from './processing/utils';\n\n\nconst initialState = {};\n\n\nexport default (state=initialState, action) => {\n  switch (action.type) {\n    case 'INITIALIZE_STREAM_FIELD': {\n      const data = deepCopy(action.data);\n      const {\n        required, minNum, maxNum, icons, labels, gutteredAdd,\n        blockDefinitions, isMobile, value,\n      } = data;\n      state = {\n        ...state,\n        [action.id]: {\n          required, minNum, maxNum, icons, labels, gutteredAdd,\n          blockDefinitions, isMobile,\n        },\n      };\n      return valueToState(state, action.id, value);\n    }\n    case 'SET_IS_MOBILE': {\n      return {\n        ...state,\n        [action.id]: {\n          ...state[action.id],\n          isMobile: action.isMobile,\n        }\n      };\n    }\n    case 'BLOCK_UPDATED': {\n      const {fieldId, blockId} = action;\n      return applyToBlock(state, fieldId, blockId, block => ({\n        ...block,\n        shouldUpdate: false,\n      }));\n    }\n    case 'CHANGE_BLOCK_VALUES': {\n      const {fieldId, blockId, value} = action;\n      state = applyToBlock(state, fieldId, blockId, block => ({\n        ...block,\n        value: value,\n        shouldUpdate: true,\n      }));\n      const blocks = state[fieldId].blocks;\n      const block = blocks[blockId];\n      const parentBlockId = block.parent;\n      if (parentBlockId !== null) {\n        const parentBlockDefinition = getNestedBlockDefinition(state, fieldId,\n          parentBlockId);\n        if (isStruct(parentBlockDefinition)) {\n          state = applyToBlock(state, fieldId, parentBlockId, block => ({\n            ...block,\n            shouldUpdate: true,\n          }));\n        }\n      }\n      return state;\n    }\n    case 'TOGGLE_BLOCK': {\n      const {fieldId, blockId} = action;\n      return applyToBlock(state, fieldId, blockId, block => ({\n        ...block,\n        closed: block.closed === undefined ? false : !block.closed,\n        shouldUpdate: true,\n      }));\n    }\n    case 'SHOW_BLOCK': {\n      const {fieldId, blockId} = action;\n      return applyToBlock(state, fieldId, blockId, block => ({\n        ...block,\n        hidden: false,\n        shouldUpdate: true,\n      }));\n    }\n    case 'HIDE_BLOCK': {\n      const {fieldId, blockId} = action;\n      return applyToBlock(state, fieldId, blockId, block => ({\n        ...block,\n        hidden: true,\n        shouldUpdate: true,\n      }));\n    }\n    case 'ADD_BLOCK': {\n      const {fieldId, parentId, index, blockType} = action;\n      return addBlock(state, fieldId, parentId, index, blockType);\n    }\n    case 'DUPLICATE_BLOCK': {\n      const {fieldId, blockId} = action;\n      return duplicateBlock(state, fieldId, blockId);\n    }\n    case 'MOVE_BLOCK': {\n      const {fieldId, blockId, newIndex} = action;\n      return moveBlock(state, fieldId, blockId, newIndex);\n    }\n    case 'DELETE_BLOCK': {\n      return deleteBlock(state, action.fieldId, action.blockId);\n    }\n    default: {\n      return state;\n    }\n  }\n};\n"],"sourceRoot":""}