{"version":3,"sources":["webpack:///./src/processing/utils.js","webpack:///./example/samples.js","webpack:///./.storybook/config.js","webpack:///./example/example.scss?1985","webpack:///./example/example.scss","webpack:///./src/index.scss?9ceb","webpack:///./src/index.scss","webpack:///./example/index.story.js","webpack:///./src/AddButton.js","webpack:///./src/actions.js","webpack:///./src/RawHtmlFieldInput.js","webpack:///./src/FieldInput.js","webpack:///./src/StructChildField.js","webpack:///./src/BlockContent.js","webpack:///./src/BlockActions.js","webpack:///./src/BlockHeader.js","webpack:///./src/Block.js","webpack:///./src/BlocksContainer.js","webpack:///./src/StreamField.js","webpack:///./src/processing/actions.js","webpack:///./src/reducer.js","webpack:///./src/processing/conversions.js"],"names":["isNA","value","getNewId","uuidv4","getFieldName","blockId","concat","isField","blockDefinition","children","length","isStruct","isStatic","getIsMobile","window","matchMedia","matches","getLayout","isMobile","layout","isSimpleLayout","isClosed","closed","shouldRunInnerScripts","dangerouslyRunInnerScripts","getLabel","key","label","replace","toUpperCase","substring","getChildrenIds","state","fieldId","parentId","fieldData","blocks","rootBlocks","getSiblingsIds","parent","parentBlockDefinition","getNestedBlockDefinition","getDescendantsIds","descendants","arguments","push","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","childBlockId","_iterator","Symbol","iterator","next","done","_toConsumableArray","err","return","getBlockDefinition","blockDefinitions","type","find","TypeError","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","includeSelf","ancestors","block","reverse","getAncestorsIds","structValueToObject","structValue","obj","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","childBlockDefinition","getNewBlock","childBlock","childExtraBlocks","extraBlocks","default","newValue","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","childDefaultValue","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","childDefault","_iterator5","_getNewBlock2","_slicedToArray","_objectSpread","_defineProperty","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","_getNewBlock4","hidden","shouldUpdate","deepCopy","data","copy","FileList","Array","map","v","Object","_arr2","entries","_i2","_arr2$_i","applyToBlocks","blocksIds","func","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","applyToBlock","triggerKeyboardEvent","element","event","Event","bubbles","cancelable","keyIdentifier","keyCode","which","dispatchEvent","triggerCustomEvent","name","CustomEvent","detail","target","replaceWithComponent","string","placeholder","component","parts","split","RegExp","i","part","react__WEBPACK_IMPORTED_MODULE_13___default","a","createElement","Fragment","dangerouslySetInnerHTML","__html","__webpack_require__","d","__webpack_exports__","complexNestedStreamField","required","icon","className","html","titleTemplate","r","module","_storybook_react__WEBPACK_IMPORTED_MODULE_0__","configure","require","content","options","hmr","transform","insertInto","undefined","locals","exports","version","sources","names","mappings","file","sourcesContent","sourceRoot","store","createStore","streamFieldReducer","applyMiddleware","thunk","storiesOf","addDecorator","story","react__WEBPACK_IMPORTED_MODULE_2___default","react_redux__WEBPACK_IMPORTED_MODULE_4__","add","_src__WEBPACK_IMPORTED_MODULE_7__","_extends","id","group","minNum","maxNum","hasError","icons","moveUp","moveDown","duplicate","delete","grip","AddButton","connect","props","index","indexOf","dispatch","bindActionCreators","addBlock","blockType","_this","_classCallCheck","this","_getPrototypeOf","call","_assertThisInitialized","preventDefault","stopPropagation","hasChoice","setState","open","closest","toggle","React","Component","react_default","_this2","visible","button","onClick","classNames","aria-hidden","AnimateHeight_default","height","panelHeight","easing","contentClassName","groupedBlockDefinitions","_ref","_ref2","addHandler","getIcon","grouped","others","RawHtmlFieldInput","input","files","inputs","filter","box","checked","tagName","selectedIndex","changeBlockValue","script","ReactDOM","findDOMNode","querySelectorAll","parentNode","removeChild","eval","innerHTML","includes","observer","MutationObserver","observe","attributes","attributeFilter","mutationObservers","addEventListener","onChange","removeEventListener","_this$props","Error","setValue","bindChange","removeAttribute","runInnerScripts","disconnect","unbindChange","_this$props2","FieldInput","src_Block","standalone","sortable","collapsible","src_RawHtmlFieldInput","blocksContainer","src_BlocksContainer","StructChildField","parentBlockId","htmlFor","src_FieldInput","BlockContent","hasDescendantError","some","descendantBlockId","src_StructChildField","BlockActions","siblings","hideBlock","duplicateBlock","dragHandle","dragHandleRef","current","Promise","resolve","setTimeout","sendKeyToDragHandle","then","sortableBlock","canDuplicate","moveUpHandler","title","disabled","isFirst","moveUpIcon","moveDownHandler","isLast","moveDownIcon","duplicateHandler","duplicateIcon","deleteHandler","deleteIcon","BlockHeader","toggleBlock","dragHandleProps","collapsibleBlock","gripIcon","titleAndType","src_BlockActions","ref","_this$props3","hasVariables","isEmpty","renderedTitle","match","varName","childValue","Block","blockUpdated","showBlock","deleteBlock","Block_classCallCheck","Block_getPrototypeOf","Block_defineProperty","Block_assertThisInitialized","createRef","contentRef","nextProps","prevProps","blockContent","canAdd","react_beautiful_dnd_cjs","draggableId","provided","Block_extends","innerRef","draggableProps","src_BlockHeader","src_BlockContent","draggableHeight","onAnimationEnd","onDraggableContainerAnimationEnd","wrapSortable","src_AddButton","BlocksContainer","snapshot","isDraggingOver","droppableId","getClassName","renderBlock","lazyFunction","f","apply","BlockDefinitionType","PropTypes","shape","isRequired","bool","any","number","oneOf","arrayOf","BlockValueType","oneOfType","StreamField","generatedValue","stateToValue","initializeStreamField","setIsMobile","moveBlock","newIndex","result","source","destination","reason","document","querySelector","onWindowResize","onDragEnd","JSON","stringify","updateChildren","childrenIds","setChildren","insertBlock","siblingsIds","splice","cloneBlock","newBlockId","newBlock","newBlocks","_cloneBlock2","newChildId","newChildrenBlocks","_cloneBlock4","newChildBlockId","_cloneBlock6","getIndex","initialState","action","reducer_objectSpread","reducer_defineProperty","valueToState","oldIndex","shouldUpdateSiblings","parentBlock","getNestedBlocksState","childrenBlocksIds","blocksState","descendantsBlocksState","blockIsField","_loop","childBlockType","_getNestedBlocksState2","prevState","_getNestedBlocksState4","values","extractValue"],"mappings":"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","file":"main.1f7f55490f68501b18a0.bundle.js","sourcesContent":["import React from 'react';\nimport uuidv4 from 'uuid';\n\n\nexport const isNA = value => {\n  return (value === null) || (value === undefined)\n};\n\n\nexport const getNewId = () => {\n  return uuidv4();\n};\n\n\nexport const getFieldName = blockId => {\n  return `field-${blockId}`;\n};\n\n\nexport const isField = blockDefinition => {\n  return (blockDefinition.children === undefined)\n      || (blockDefinition.children.length === 0);\n};\n\n\nexport const isStruct = blockDefinition => {\n  return (blockDefinition.isStruct !== undefined)\n      && blockDefinition.isStruct;\n};\n\n\nexport const isStatic = blockDefinition => {\n  return (blockDefinition.isStatic !== undefined)\n       && blockDefinition.isStatic;\n};\n\n\nexport const getIsMobile = () => {\n  return window.matchMedia('(max-width: 799px)').matches;\n};\n\n\nexport const getLayout = (blockDefinition, isMobile) => {\n  if ((blockDefinition.layout === undefined) || isMobile) {\n    return 'COLLAPSIBLE';\n  }\n  return blockDefinition.layout;\n};\n\n\nexport const isSimpleLayout = (blockDefinition, isMobile) => {\n  return getLayout(blockDefinition, isMobile) === 'SIMPLE';\n};\n\n\nexport const isClosed = (blockDefinition, isMobile) => {\n  return !isSimpleLayout(blockDefinition, isMobile)\n      && ((blockDefinition.closed === undefined)\n          || blockDefinition.closed);\n};\n\n\nexport const shouldRunInnerScripts = blockDefinition => {\n  return (blockDefinition.dangerouslyRunInnerScripts !== undefined)\n      && (blockDefinition.dangerouslyRunInnerScripts);\n};\n\n\nexport const getLabel = blockDefinition => {\n  let {key, label} = blockDefinition;\n  if (label === undefined) {\n    label = key.replace('_', ' ');\n    label = `${label[0].toUpperCase()}${label.substring(1)}`;\n  }\n  return label;\n};\n\n\nexport const extractText = html => {\n  const tmp = document.createElement('span');\n  tmp.innerHTML = html;\n  return tmp.textContent || tmp.innerText;\n};\n\n\nexport const getChildrenIds = (state, fieldId, parentId) => {\n  const fieldData = state[fieldId];\n  const blocks = fieldData.blocks;\n  if (parentId === null) {\n    return fieldData.rootBlocks;\n  } else {\n    return blocks[parentId].value;\n  }\n};\n\n\nexport const getSiblingsIds = (state, fieldId, blockId) => {\n  const fieldData = state[fieldId];\n  const blocks = fieldData.blocks;\n  const block = blocks[blockId];\n  const parentId = block.parent;\n  if (parentId !== null) {\n    const parentBlockDefinition = getNestedBlockDefinition(state, fieldId,\n                                                           parentId);\n    if (isStruct(parentBlockDefinition)) {\n      return [blockId];\n    }\n  }\n  return getChildrenIds(state, fieldId, parentId);\n};\n\n\nexport const getAncestorsIds = (state, fieldId, blockId,\n                                includeSelf=false) => {\n  const blocks = state[fieldId].blocks;\n  const ancestors = [];\n  if (includeSelf) {\n    ancestors.push(blockId);\n  }\n\n  let block = blocks[blockId];\n  while (block.parent !== null) {\n    blockId = block.parent;\n    ancestors.push(blockId);\n    block = blocks[blockId];\n  }\n  return ancestors.reverse();\n};\n\n\nexport const getDescendantsIds = (state, fieldId, blockId,\n                                  includeSelf=false) => {\n  let descendants = [];\n  if (includeSelf) {\n    descendants.push(blockId);\n  }\n\n  const blockDefinition = getNestedBlockDefinition(state, fieldId, blockId);\n\n  if (isField(blockDefinition)) {\n    return descendants;\n  }\n\n  for (let childBlockId of state[fieldId].blocks[blockId].value) {\n    descendants = [\n      ...descendants,\n      ...getDescendantsIds(state, fieldId, childBlockId, true),\n    ];\n  }\n  return descendants;\n};\n\n\nexport const getBlockDefinition = (blockDefinitions, type) => {\n  const blockDefinition = blockDefinitions.find(\n    blockDefinition => blockDefinition.key === type);\n  if (blockDefinition === undefined) {\n    throw new TypeError(`No block definition found for '${type}'`);\n  }\n  return blockDefinition;\n};\n\n\nexport const getNestedBlockDefinition = (state, fieldId, blockId) => {\n  const fieldData = state[fieldId];\n  let {blockDefinitions, blocks} = fieldData;\n  let blockDefinition;\n  for (let ancestorId of getAncestorsIds(state, fieldId, blockId, true)) {\n    const block = blocks[ancestorId];\n    blockDefinition = getBlockDefinition(blockDefinitions, block.type);\n    blockDefinitions = blockDefinition.children;\n  }\n  return blockDefinition;\n};\n\n\nexport const structValueToObject = (state, fieldId, structValue) => {\n  const blocks = state[fieldId].blocks;\n  const obj = {};\n  for (let childBlockId of structValue) {\n    const childBlockDefinition = getNestedBlockDefinition(state, fieldId,\n                                                          childBlockId);\n    let value;\n    if (isField(childBlockDefinition)) {\n      const childBlock = blocks[childBlockId];\n      value = childBlock.value;\n    } else {\n      value = childBlockId;\n    }\n    obj[childBlockDefinition.key] = value;\n  }\n  return obj;\n};\n\n\nexport const getNewBlock = (parentId, blockDefinition, value=null) => {\n  let extraBlocks = {};\n  let childBlockId, childBlock, childExtraBlocks;\n  const blockId = getNewId();\n\n  if (isNA(value) && (blockDefinition.default !== undefined)) {\n    value = blockDefinition.default;\n  }\n\n  if (isStruct(blockDefinition)) {\n    const newValue = [];\n    for (let childBlockDefinition of blockDefinition.children) {\n      let childDefaultValue = null;\n      if (!isNA(value)) {\n        for (let childDefault of value) {\n          if (childDefault.type === childBlockDefinition.key) {\n            childDefaultValue = childDefault.value;\n            break;\n          }\n        }\n      }\n      [childBlockId, childBlock, childExtraBlocks] =\n        getNewBlock(blockId, childBlockDefinition, childDefaultValue);\n      newValue.push(childBlockId);\n      extraBlocks = {\n        ...extraBlocks,\n        ...childExtraBlocks,\n        [childBlockId]: childBlock,\n      };\n    }\n    value = newValue;\n  } else if (!isField(blockDefinition)) {\n    const newValue = [];\n    if (!isNA(value)) {\n      for (let childBlock of value) {\n        let childBlockDefinition;\n        for (childBlockDefinition of blockDefinition.children) {\n          if (childBlockDefinition.key === childBlock.type) {\n            break;\n          }\n        }\n        [childBlockId, childBlock, childExtraBlocks] =\n          getNewBlock(blockId, childBlockDefinition, childBlock.value);\n        newValue.push(childBlockId);\n        extraBlocks = {\n          ...extraBlocks,\n          ...childExtraBlocks,\n          [childBlockId]: childBlock,\n        };\n      }\n    }\n    value = newValue;\n  }\n  return [\n    blockId,\n    {\n      parent: parentId,\n      type: blockDefinition.key,\n      value: value,\n      hidden: true,\n      closed: false,\n      shouldUpdate: false,\n    },\n    extraBlocks,\n  ];\n};\n\n\nexport const deepCopy = data => {\n  let copy;\n  if (data instanceof FileList) {\n    return data;\n  }\n  if (data instanceof Array) {\n    return data.map(v => deepCopy(v));\n  }\n  if (data instanceof Object) {\n    copy = {};\n    for (const [key, value] of Object.entries(data)) {\n      copy[key] = deepCopy(value);\n    }\n    return copy;\n  }\n  return data;\n};\n\n\nexport const applyToBlocks = (state, fieldId, blocksIds, func) => {\n  const fieldData = state[fieldId];\n  const blocks = fieldData.blocks;\n  for (let blockId of blocksIds) {\n    const block = deepCopy(blocks[blockId]);\n    blocks[blockId] = func(block);\n  }\n  return {\n    ...state,\n    [fieldId]: {\n      ...fieldData,\n      blocks: blocks,\n    },\n  };\n};\n\n\nexport const applyToBlock = (state, fieldId, blockId, func) => {\n  return applyToBlocks(state, fieldId, [blockId], func);\n};\n\n\nexport const triggerKeyboardEvent = (element, key) => {\n  let event = new Event('keydown', {bubbles: true, cancelable: true});\n\n  event.key = key;            // These four lines\n  event.keyIdentifier = key;  // are here\n  event.keyCode = key;        // to fix cross-browser\n  event.which = key;          // compatibility issues.\n\n  element.dispatchEvent(event);\n};\n\n\nexport const triggerCustomEvent = (element, name, data=null) => {\n  if (data === null) {\n    data = {};\n  }\n  const event = new CustomEvent(`streamfield:${name}`, {\n    detail: {\n      target: element,\n      ...data,\n    },\n  });\n  element.dispatchEvent(event);\n  window.dispatchEvent(event);\n};\n\n\nexport const replaceWithComponent = (string, placeholder, component) => {\n  const parts = string.split(new RegExp(`(${placeholder})`));\n  for (const i in parts) {\n    let part = parts[i];\n    if (part === placeholder) {\n      parts[i] = <React.Fragment key={i}>{component}</React.Fragment>\n    } else {\n      parts[i] = <span key={i} dangerouslySetInnerHTML={{__html: part}} />\n    }\n  }\n  return <>{parts}</>;\n};\n","export const complexNestedStreamField = {\n  required: true,\n  blockDefinitions: [\n    {\n      key: \"title\",\n      icon: \"<i class='fas fa-heading fa-fw'></i>\",\n      className: \"full title\",\n      html: \"<input type='text' name='field-__ID__' />\"\n    },\n    {\n      key: \"text\",\n      icon: \"<i class='fas fa-align-justify fa-fw'></i>\",\n      className: \"full\",\n      html: \"<textarea name='field-__ID__'></textarea>\"\n    },\n    {\n      key: \"block-type\",\n      label: \"Block type\",\n      icon: \"<i class='fas fa-heart fa-fw'></i>\",\n      titleTemplate: \"${start_date} — ${end_date}\",\n      isStruct: true,\n      children: [\n        {\n          key: \"start_date\",\n          html: \"<input type='date' name='field-__ID__' />\",\n          required: true\n        },\n        {\n          key: \"end_date\",\n          html: \"<input type='date' name='field-__ID__' />\",\n          required: true\n        },\n        {\n          key: \"image\",\n          html: \"<input type='file' accept='image/*' name='field-__ID__' />\"\n        },\n        {\n          key: \"public\",\n          html: \"<input type='checkbox' name='field-__ID__' />\"\n        },\n        {\n          key: \"tags\"\n        },\n        {\n          key: \"size\",\n          html: \"<input type='number' name='field-__ID__' />\"\n        },\n        {\n          key: \"color\",\n          html: \"<input type='color' name='field-__ID__' />\"\n        },\n        {\n          key: \"sub-blocks\",\n          children: [\n            {\n              key: \"sub-block-type\",\n              label: \"Sub-block type\",\n              icon: \"<i class='fas fa-heartbeat fa-fw'></i>\",\n              isStruct: true,\n              children: [\n                {\n                  key: \"name\"\n                },\n                {\n                  key: \"password\",\n                  html: \"<input type='password' name='field-__ID__' />\"\n                },\n                {\n                  key: \"sub-sub-blocks\",\n                  children: [\n                    {\n                      key: \"sub-sub-block-type\",\n                      name: \"Sub-sub-block type\",\n                      icon: \"<i class='fas fa-smile fa-fw'></i>\"\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ],\n      default: [\n        { type: \"color\", value: \"#00FF00\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"lorem\" },\n                { type: \"password\", value: \"ipsum\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [{ type: \"sub-sub-block-type\", value: \"blablabla\" }]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  ],\n  value: [\n    { type: \"title\", value: \"Wagtail is awesome!\" },\n    {\n      type: \"text\",\n      value: \"And it\\u2019s always getting better! \\ud83d\\ude03\"\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1768-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1769-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1770-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1771-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1772-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1773-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1774-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1775-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1776-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1777-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1778-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1779-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1780-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1781-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1782-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1783-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1784-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1785-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1786-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1787-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1788-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1789-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1790-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1791-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1792-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1793-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1794-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1795-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1796-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1797-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1798-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1799-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1800-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1801-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1802-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1803-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1804-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1805-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1806-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1807-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1808-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1809-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1810-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1811-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1812-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1813-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1814-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1815-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1816-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: \"block-type\",\n      value: [\n        { type: \"start_date\", value: \"1817-03-04\" },\n        { type: \"public\", value: true },\n        { type: \"size\", value: 3.14 },\n        { type: \"color\", value: \"#F11C32\" },\n        {\n          type: \"sub-blocks\",\n          value: [\n            {\n              type: \"sub-block-type\",\n              value: [\n                { type: \"name\", value: \"admin\" },\n                { type: \"password\", value: \"admin\" },\n                {\n                  type: \"sub-sub-blocks\",\n                  value: [\n                    {\n                      type: \"sub-sub-block-type\",\n                      html:\n                        \"<input type=\\\"text\\\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>\",\n                      value: \"hello\"\n                    },\n                    { type: \"sub-sub-block-type\", value: \"world\" }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  ]\n};\n","import { configure } from \"@storybook/react\";\n\nconfigure(() => {\n  require(\"../example/example.scss\");\n  require(\"../src/index.scss\");\n\n  require(\"../example/index.story\");\n}, module);\n","\nvar content = require(\"!!../node_modules/css-loader/index.js??ref--9-1!../node_modules/postcss-loader/src/index.js??ref--9-2!../node_modules/sass-loader/lib/loader.js??ref--9-3!./example.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js??ref--9-1!../node_modules/postcss-loader/src/index.js??ref--9-2!../node_modules/sass-loader/lib/loader.js??ref--9-3!./example.scss\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js??ref--9-1!../node_modules/postcss-loader/src/index.js??ref--9-2!../node_modules/sass-loader/lib/loader.js??ref--9-3!./example.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"body {\\n  background: #F6F6F6;\\n  padding: 15px;\\n}\\n\\n.children-container .block > .block-container > .content-container > .content.full {\\n  padding: 0;\\n}\\n\\n.children-container .block > .block-container > .content-container > .content.full input,\\n.children-container .block > .block-container > .content-container > .content.full textarea {\\n  display: block;\\n  min-width: 100%;\\n  max-width: 100%;\\n  height: 100%;\\n  padding: 12px;\\n  border: none;\\n  outline: none;\\n}\\n\\n.children-container .block > .block-container > .content-container > .content.full input {\\n  font-size: 30px;\\n}\\n\\ninput[type=text], input[type=password], input[type=email],\\ninput[type=date], input[type=time], input[type=number], select {\\n  padding: 5px 8px;\\n  border: 1px solid lightGrey;\\n  border-radius: 3px;\\n}\\n\\ninput[type=color] {\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n  appearance: none;\\n  border: none;\\n  background: none;\\n}\\n\\ntextarea {\\n  max-width: 100%;\\n}\", \"\", {\"version\":3,\"sources\":[\"/home/bertrand/PycharmProjects/react-streamfield/example/example.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,oBAAA;EACA,cAAA;CACF;;AAEA;EACI,WAAA;CACJ;;AAEA;;EAEE,eAAA;EACA,gBAAA;EACA,gBAAA;EACA,aAAA;EACA,cAAA;EACA,aAAA;EACA,cAAA;CACF;;AAEA;EACE,gBAAA;CACF;;AAEA;;EAEE,iBAAA;EACA,4BAAA;EACA,mBAAA;CACF;;AAEA;EACE,yBAAA;EACA,sBAAA;EACA,iBAAA;EACA,aAAA;EACA,iBAAA;CACF;;AAEA;EACE,gBAAA;CACF\",\"file\":\"example.scss\",\"sourcesContent\":[\"body {\\n  background: #F6F6F6;\\n  padding: 15px;\\n}\\n\\n.children-container .block > .block-container > .content-container > .content.full {\\n    padding: 0;\\n}\\n\\n.children-container .block > .block-container > .content-container > .content.full input,\\n.children-container .block > .block-container > .content-container > .content.full textarea {\\n  display: block;\\n  min-width: 100%;\\n  max-width: 100%;\\n  height: 100%;\\n  padding: 12px;\\n  border: none;\\n  outline: none;\\n}\\n\\n.children-container .block > .block-container > .content-container > .content.full input {\\n  font-size: 30px;\\n}\\n\\ninput[type=\\\"text\\\"], input[type=\\\"password\\\"], input[type=\\\"email\\\"],\\ninput[type=\\\"date\\\"], input[type=\\\"time\\\"], input[type=\\\"number\\\"], select {\\n  padding: 5px 8px;\\n  border: 1px solid lightGrey;\\n  border-radius: 3px;\\n}\\n\\ninput[type=\\\"color\\\"] {\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n  appearance: none;\\n  border: none;\\n  background: none;\\n}\\n\\ntextarea {\\n  max-width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../node_modules/css-loader/index.js??ref--9-1!../node_modules/postcss-loader/src/index.js??ref--9-2!../node_modules/sass-loader/lib/loader.js??ref--9-3!./index.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js??ref--9-1!../node_modules/postcss-loader/src/index.js??ref--9-2!../node_modules/sass-loader/lib/loader.js??ref--9-3!./index.scss\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js??ref--9-1!../node_modules/postcss-loader/src/index.js??ref--9-2!../node_modules/sass-loader/lib/loader.js??ref--9-3!./index.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".children-container {\\n  position: relative;\\n  padding: 17px 0 17px 34px;\\n  transition: padding 0.3s ease-in-out;\\n}\\n@media (max-width: 799px) {\\n  .children-container {\\n    padding-left: 0;\\n    padding-top: 51px;\\n  }\\n}\\n.children-container.is-dragging > button.add.visible {\\n  opacity: 0;\\n  pointer-events: none;\\n}\\n.children-container .block {\\n  position: relative;\\n  display: flex;\\n  margin: 3px 0;\\n}\\n@media (max-width: 799px) {\\n  .children-container .block {\\n    margin-bottom: 37px;\\n  }\\n}\\n.children-container .block.has-error > .block-container {\\n  border-color: #dbc7c8;\\n}\\n.children-container .block.has-error > .block-container > header {\\n  background: #fbefef;\\n}\\n.children-container .block.has-error > .block-container > .content-container > .content {\\n  border-color: #dbc7c8;\\n}\\n.children-container .block.has-error:hover > .block-container, .children-container .block.has-error:focus > .block-container, .children-container .block.has-error:focus-within > .block-container {\\n  border-color: #cdb2b3;\\n}\\n.children-container .block.has-error:hover > .block-container > header, .children-container .block.has-error:focus > .block-container > header, .children-container .block.has-error:focus-within > .block-container > header {\\n  background: #fbefef;\\n}\\n.children-container .block.has-error:hover > .block-container > .content-container > .content, .children-container .block.has-error:focus > .block-container > .content-container > .content, .children-container .block.has-error:focus-within > .block-container > .content-container > .content {\\n  border-color: #cdb2b3;\\n}\\n.children-container .block > .block-container {\\n  flex: 1 1 auto;\\n  width: 0;\\n  border: 1px solid #e6e6e6;\\n  border-radius: 3px;\\n  background: white;\\n  transition: border-color 0.3s ease-in-out;\\n  transition-property: border-color, box-shadow;\\n}\\n.children-container .block > .block-container.SIMPLE {\\n  display: flex;\\n  flex-flow: row nowrap;\\n}\\n.children-container .block > .block-container.SIMPLE > header {\\n  position: relative;\\n  flex: 0 0 auto;\\n  padding: 8px;\\n}\\n.children-container .block > .block-container.SIMPLE > header h3 {\\n  position: -webkit-sticky;\\n  position: sticky;\\n  top: 7.5px;\\n  bottom: 7.5px;\\n}\\n.children-container .block > .block-container.SIMPLE > .content-container {\\n  flex: 1 1 auto;\\n  display: flex;\\n  flex-flow: column nowrap;\\n  justify-content: space-around;\\n  width: 0;\\n}\\n.children-container .block > .block-container.SIMPLE > aside {\\n  display: flex;\\n  flex-flow: column nowrap;\\n  align-items: flex-end;\\n}\\n.children-container .block > .block-container.SIMPLE > aside .block-type {\\n  margin: 0 8px 8px 8px;\\n}\\n.children-container .block > .block-container.COLLAPSIBLE {\\n  overflow: hidden;\\n}\\n.children-container .block > .block-container.COLLAPSIBLE > header h3 {\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n}\\n.children-container .block > .block-container.COLLAPSIBLE > header h3 .type-icon {\\n  margin-right: 8px;\\n}\\n.children-container .block > .block-container.COLLAPSIBLE > header > aside {\\n  flex: 0 0 auto;\\n}\\n.children-container .block > .block-container > header {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding-left: 8px;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  transition: background-color 0.3s ease-in-out;\\n  cursor: default;\\n}\\n.children-container .block > .block-container > header.collapsible {\\n  cursor: pointer;\\n}\\n.children-container .block > .block-container > header.sortable {\\n  cursor: grab;\\n}\\n.children-container .block > .block-container > header h3 {\\n  display: inline-block;\\n  flex: 1 1 auto;\\n  margin: 0;\\n  color: #888888;\\n  vertical-align: middle;\\n}\\n.children-container .block > .block-container > header h3 .type-icon {\\n  color: #888888;\\n  transition: color 0.3s ease-in-out;\\n}\\n.children-container .block > .block-container > header .block-type, .children-container .block > .block-container .block-type {\\n  margin-right: 16px;\\n  text-transform: uppercase;\\n  text-align: right;\\n  font-size: 80%;\\n  line-height: 100%;\\n  color: #888888;\\n  vertical-align: middle;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n.children-container .block > .block-container > header > aside > .actions, .children-container .block > .block-container > aside > .actions {\\n  white-space: nowrap;\\n}\\n.children-container .block > .block-container > header > aside > .actions > button, .children-container .block > .block-container > aside > .actions > button {\\n  -webkit-appearance: none;\\n     -moz-appearance: none;\\n          appearance: none;\\n  border: none;\\n  padding: 8px;\\n  background: none;\\n  cursor: pointer;\\n  color: #888888;\\n  opacity: 1;\\n  transition: opacity 0.3s ease-in-out;\\n  transition-property: opacity, color;\\n  font-size: 15px;\\n}\\n.children-container .block > .block-container > header > aside > .actions > button[disabled], .children-container .block > .block-container > aside > .actions > button[disabled] {\\n  opacity: 0.2;\\n  pointer-events: none;\\n}\\n.children-container .block > .block-container > .content-container > .content {\\n  padding: 12px;\\n}\\n.children-container .block:hover > .block-container, .children-container .block:focus > .block-container, .children-container .block:focus-within > .block-container {\\n  border-color: #bbbbbb;\\n  box-shadow: 3px 2px 3px -1px rgba(0, 0, 0, 0.1);\\n}\\n.children-container .block:hover > .block-container > header, .children-container .block:focus > .block-container > header, .children-container .block:focus-within > .block-container > header {\\n  background: #f5f5f5;\\n}\\n.children-container .block:hover > .block-container > header h3, .children-container .block:focus > .block-container > header h3, .children-container .block:focus-within > .block-container > header h3 {\\n  color: #4d4d4d;\\n}\\n.children-container .block:hover > .block-container > header h3 .type-icon, .children-container .block:focus > .block-container > header h3 .type-icon, .children-container .block:focus-within > .block-container > header h3 .type-icon {\\n  color: #4d4d4d;\\n}\\n.children-container .block:hover > .block-container > header > aside > .actions > button, .children-container .block:focus > .block-container > header > aside > .actions > button, .children-container .block:focus-within > .block-container > header > aside > .actions > button {\\n  color: #4d4d4d;\\n}\\n.children-container .block:hover > .block-container > .content-container > .content, .children-container .block:focus > .block-container > .content-container > .content, .children-container .block:focus-within > .block-container > .content-container > .content {\\n  border-color: #bbbbbb;\\n}\\n.children-container button.add {\\n  position: absolute;\\n  width: 34px;\\n  height: 34px;\\n  -webkit-appearance: none;\\n     -moz-appearance: none;\\n          appearance: none;\\n  border: none;\\n  color: #007d7e;\\n  font-weight: bold;\\n  background: none;\\n  transform: translate(-100%, -50%);\\n  padding: 0;\\n  cursor: pointer;\\n  outline: none;\\n  -webkit-backface-visibility: hidden;\\n          backface-visibility: hidden;\\n  overflow: hidden;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  opacity: 0;\\n  transition: opacity 0.3s ease-in-out;\\n  pointer-events: none;\\n}\\n.children-container button.add.visible {\\n  opacity: 1;\\n  pointer-events: unset;\\n}\\n@media (max-width: 799px) {\\n  .children-container button.add {\\n    width: 100%;\\n    transform: translate(0, -100%);\\n  }\\n}\\n.children-container button.add i {\\n  display: block;\\n  transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);\\n  font-style: normal;\\n  font-size: 28px;\\n  line-height: 28px;\\n}\\n.children-container button.add.close i {\\n  transform: rotate(45deg);\\n}\\n.children-container label {\\n  display: block;\\n  font-weight: bold;\\n}\\n.children-container label + label {\\n  margin-top: 15px;\\n}\\n.children-container .field + .field {\\n  padding-top: 15px;\\n}\\n.children-container .field label {\\n  margin-bottom: 7.5px;\\n}\\n.children-container .field.required > label::after {\\n  content: \\\"*\\\";\\n  color: #cd3238;\\n  font-weight: 700;\\n  display: inline-block;\\n  margin-left: 0.5em;\\n  line-height: 1em;\\n  font-size: 13px;\\n}\\n.children-container .add-panel {\\n  position: relative;\\n  padding: 7.5px;\\n  background: #EEEEEE;\\n  border-radius: 3px;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n.children-container .add-panel .group-name {\\n  margin: 7.5px 7.5px 0;\\n}\\n.children-container .add-panel button.type {\\n  margin: 7.5px;\\n  -webkit-appearance: none;\\n     -moz-appearance: none;\\n          appearance: none;\\n  background: #007d7e;\\n  color: white;\\n  padding: 0;\\n  border: none;\\n  border-radius: 3px;\\n  outline: none;\\n  cursor: pointer;\\n  overflow: hidden;\\n}\\n.children-container .add-panel button.type .icon, .children-container .add-panel button.type .label {\\n  display: inline-block;\\n  padding: 6px 8px;\\n}\\n.children-container .add-panel button.type .icon {\\n  background-color: rgba(0, 0, 0, 0.2);\\n}\\n.children-container .add-panel button.type .label {\\n  text-transform: uppercase;\\n}\", \"\", {\"version\":3,\"sources\":[\"/home/bertrand/PycharmProjects/react-streamfield/src/index.scss\"],\"names\":[],\"mappings\":\"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\",\"file\":\"index.scss\",\"sourcesContent\":[\"$grid-gutter-width: 30px;\\n$header-padding: 8px;\\n$block-vertical-margin: 3px;\\n$block-full-margin: $block-vertical-margin 0;\\n$add-button-size: 34px;\\n$add-button-font-size: 28px;\\n$children-container-padding: $add-button-size / 2;\\n$action-font-size: 15px;\\n$add-transition-duration: 0.3s;\\n$hover-transition-duration: 0.3s;\\n$bounce-transition-timing: cubic-bezier(0.175, 0.885, 0.32, 1.275);\\n$border-radius: 3px;\\n$teal: #007d7e;\\n$header-text-color-focus: #4d4d4d;\\n$header-text-color: #888888;\\n$block-border-color: #e6e6e6;\\n$block-border-color-focus: #bbbbbb;\\n$block-hover-background: #f5f5f5;\\n$error-color: #cd3238;\\n$error-border-color: #dbc7c8;\\n$error-border-color-focus: #cdb2b3;\\n$error-background-color: #fbefef;\\n$screen-xs-max: 799px;\\n\\n.children-container {\\n  position: relative;\\n  padding: $children-container-padding 0\\n           $children-container-padding $add-button-size;\\n  transition: padding $hover-transition-duration ease-in-out;\\n  @media (max-width: $screen-xs-max) {\\n    padding-left: 0;\\n    padding-top: $children-container-padding + $add-button-size;\\n  }\\n  &.is-dragging {\\n    > button.add.visible {\\n      opacity: 0;\\n      pointer-events: none;\\n    }\\n  }\\n  .block {\\n    position: relative;\\n    display: flex;\\n    margin: $block-full-margin;\\n    @media (max-width: $screen-xs-max) {\\n      margin-bottom: $block-vertical-margin + $add-button-size;\\n    }\\n    &.has-error {\\n      > .block-container {\\n        border-color: $error-border-color;\\n        > header {\\n          background: $error-background-color;\\n        }\\n        > .content-container > .content {\\n          border-color: $error-border-color;\\n        }\\n      }\\n      &:hover, &:focus, &:focus-within {\\n        > .block-container {\\n          border-color: $error-border-color-focus;\\n          > header {\\n            background: $error-background-color;\\n          }\\n          > .content-container > .content {\\n            border-color: $error-border-color-focus;\\n          }\\n        }\\n      }\\n    }\\n    > .block-container {\\n      flex: 1 1 auto;\\n      width: 0;  // Trick to prevent overflow from the title.\\n      border: 1px solid $block-border-color;\\n      border-radius: $border-radius;\\n      background: white;\\n      transition: border-color $hover-transition-duration ease-in-out;\\n      transition-property: border-color, box-shadow;\\n      &.SIMPLE {\\n        display: flex;\\n        flex-flow: row nowrap;\\n        > header {\\n          position: relative;\\n          flex: 0 0 auto;\\n          padding: $header-padding;\\n          h3 {\\n            position: sticky;\\n            top: $grid-gutter-width / 4;\\n            bottom: $grid-gutter-width / 4;\\n          }\\n        }\\n        > .content-container {\\n          flex: 1 1 auto;\\n          display: flex;\\n          flex-flow: column nowrap;\\n          justify-content: space-around;\\n          width: 0;  // Trick to prevent content from overflowing, while\\n                     // allowing for some overflow, like Draftail tooltips.\\n        }\\n        > aside {\\n          display: flex;\\n          flex-flow: column nowrap;\\n          align-items: flex-end;\\n          .block-type {\\n            margin: 0 $header-padding $header-padding $header-padding;\\n          }\\n        }\\n      }\\n      &.COLLAPSIBLE {\\n        overflow: hidden;\\n        > header {\\n          h3 {\\n            white-space: nowrap;\\n            text-overflow: ellipsis;\\n            overflow: hidden;\\n            .type-icon {\\n              margin-right: $header-padding;\\n            }\\n          }\\n          > aside {\\n            flex: 0 0 auto;\\n          }\\n        }\\n      }\\n      > header {\\n        display: flex;\\n        justify-content: space-between;\\n        align-items: center;\\n        padding-left: $header-padding;\\n        user-select: none;\\n        transition: background-color $hover-transition-duration ease-in-out;\\n        cursor: default;\\n        &.collapsible {\\n          cursor: pointer;\\n        }\\n        &.sortable {\\n          cursor: grab;\\n        }\\n        h3 {\\n          display: inline-block;\\n          flex: 1 1 auto;\\n          margin: 0;\\n          color: $header-text-color;\\n          vertical-align: middle;\\n          .type-icon {\\n            color: $header-text-color;\\n            transition: color $hover-transition-duration ease-in-out;\\n          }\\n        }\\n      }\\n      > header, & {\\n        .block-type {\\n          margin-right: $header-padding * 2;\\n          text-transform: uppercase;\\n          text-align: right;\\n          font-size: 80%;\\n          line-height: 100%;\\n          color: $header-text-color;\\n          vertical-align: middle;\\n          user-select: none;\\n        }\\n        > aside > .actions {\\n          white-space: nowrap;\\n          > button {\\n            appearance: none;\\n            border: none;\\n            padding: $header-padding;\\n            background: none;\\n            cursor: pointer;\\n            color: $header-text-color;\\n            opacity: 1;\\n            transition: opacity $hover-transition-duration ease-in-out;\\n            transition-property: opacity, color;\\n            font-size: $action-font-size;\\n\\n            &[disabled] {\\n              opacity: 0.2;\\n              pointer-events: none;\\n            }\\n          }\\n        }\\n      }\\n      > .content-container > .content {\\n        padding: 12px;\\n      }\\n    }\\n    &:hover, &:focus, &:focus-within {\\n      > .block-container {\\n        border-color: $block-border-color-focus;\\n        box-shadow: 3px 2px 3px -1px rgba(0, 0, 0, .1);\\n        > header {\\n          background: $block-hover-background;\\n          h3 {\\n            color: $header-text-color-focus;\\n            .type-icon {\\n              color: $header-text-color-focus;\\n            }\\n          }\\n          > aside > .actions > button {\\n            color: $header-text-color-focus;\\n          }\\n        }\\n        > .content-container > .content {\\n          border-color: $block-border-color-focus;\\n        }\\n      }\\n    }\\n  }\\n  button.add {\\n    position: absolute;\\n    width: $add-button-size;\\n    height: $add-button-size;\\n    appearance: none;\\n    border: none;\\n    color: $teal;\\n    font-weight: bold;\\n    background: none;\\n    transform: translate(-100%, -50%);\\n    padding: 0;\\n    cursor: pointer;\\n    outline: none;\\n    backface-visibility: hidden;\\n    overflow: hidden;  // Makes the rotated i box not clickable.\\n    user-select: none;\\n    opacity: 0;\\n    transition: opacity $hover-transition-duration ease-in-out;\\n    pointer-events: none;\\n    &.visible {\\n      opacity: 1;\\n      pointer-events: unset;\\n    }\\n    @media (max-width: $screen-xs-max) {\\n      width: 100%;\\n      transform: translate(0, -100%);\\n    }\\n    i {\\n      display: block;\\n      transition: transform $add-transition-duration $bounce-transition-timing;\\n      font-style: normal;\\n      font-size: $add-button-font-size;\\n      line-height: $add-button-font-size;\\n    }\\n    &.close i {\\n      transform: rotate(45deg);\\n    }\\n  }\\n\\n  label {\\n    display: block;\\n    font-weight: bold;\\n    + label {\\n      margin-top: $grid-gutter-width / 2;\\n    }\\n  }\\n\\n  .field {\\n    + .field {\\n      padding-top: $grid-gutter-width / 2;\\n    }\\n    label {\\n      margin-bottom: $grid-gutter-width / 4;\\n    }\\n    &.required > label::after {\\n      content: '*';\\n      color: #cd3238;\\n      font-weight: 700;\\n      display: inline-block;\\n      margin-left: .5em;\\n      line-height: 1em;\\n      font-size: 13px;\\n    }\\n  }\\n\\n\\n  .add-panel {\\n    position: relative;\\n    padding: $grid-gutter-width / 4;\\n    background: #EEEEEE;\\n    border-radius: $border-radius;\\n    user-select: none;\\n    .group-name {\\n      margin: $grid-gutter-width / 4 $grid-gutter-width / 4 0;\\n    }\\n    button.type {\\n      margin: $grid-gutter-width / 4;\\n      appearance: none;\\n      background: $teal;\\n      color: white;\\n      padding: 0;\\n      border: none;\\n      border-radius: $border-radius;\\n      outline: none;\\n      cursor: pointer;\\n      overflow: hidden;\\n      .icon, .label {\\n        display: inline-block;\\n        padding: 6px 8px;\\n      }\\n      .icon {\\n        background-color: rgba(0, 0, 0, 0.2);\\n      }\\n      .label {\\n        text-transform: uppercase;\\n      }\\n    }\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","import { storiesOf } from '@storybook/react';\nimport React from 'react';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\n\nimport { StreamField, streamFieldReducer } from '../src';\n\nimport { complexNestedStreamField } from './samples'\n\nconst store = createStore(streamFieldReducer, applyMiddleware(thunk));\n\nstoriesOf('React StreamField demo', module)\n.addDecorator(story => <Provider store={store}>{story()}</Provider>)\n  .add('1 block type', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'title',\n          icon: '<i class=\"fas fa-heading fa-fw\"></i>',\n          className: 'full title',\n          html: '<input type=\"text\" name=\"field-__ID__\" />'\n        }\n      ],\n      value: [{ type: 'title', value: 'Wagtail is awesome!' }]\n    };\n    return <StreamField {...props} id='stream-1' />;\n  })\n  .add('1 open block type', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'title',\n          icon: '<i class=\"fas fa-heading fa-fw\"></i>',\n          className: 'full title',\n          closed: false,\n          html: '<input type=\"text\" name=\"field-__ID__\" />'\n        }\n      ],\n      value: [{ type: 'title', value: 'Wagtail is awesome!' }]\n    };\n    return <StreamField {...props} id='stream-2' />;\n  })\n  .add('1 static block type', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'static',\n          isStatic: true,\n          html: 'Some static block'\n        }\n      ],\n      value: [{ type: 'static' }]\n    };\n    return <StreamField {...props} id='stream-3' />;\n  })\n  .add('1 block type, default value', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'title',\n          default: 'The default title',\n          icon: '<i class=\"fas fa-heading fa-fw\"></i>',\n          className: 'full title',\n          html: '<input type=\"text\" name=\"field-__ID__\" />'\n        }\n      ],\n      value: [{ type: 'title', value: 'Wagtail is awesome!' }]\n    };\n    return <StreamField {...props} id='stream-4' />;\n  })\n  .add('1 block type, custom per-value HTML', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'title',\n          icon: '<i class=\"fas fa-heading fa-fw\"></i>',\n          className: 'full title',\n          html: '<input type=\"text\" name=\"field-__ID__\" />'\n        }\n      ],\n      value: [\n        {\n          type: 'title',\n          html:\n            '<div style=\"padding: 6px 12px 0; color: grey;\">Do you see it?</div> <input type=\"text\" name=\"field-__ID__\" />',\n          value: 'Custom HTML for this value!'\n        },\n        { type: 'title', value: 'This time, no custom HTML.' }\n      ]\n    };\n    return <StreamField {...props} id='stream-5' />;\n  })\n  .add('2 block types', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'title',\n          icon: '<i class=\"fas fa-heading fa-fw\"></i>',\n          className: 'full title',\n          html: '<input type=\"text\" name=\"field-__ID__\" />'\n        },\n        {\n          key: 'text',\n          icon: '<i class=\"fas fa-align-justify fa-fw\"></i>',\n          className: 'full',\n          html: '<textarea name=\"field-__ID__\"></textarea>'\n        }\n      ],\n      value: [\n        { type: 'title', value: 'Wagtail is awesome!' },\n        { type: 'text', value: 'And it’s always getting better 😃' }\n      ]\n    };\n    return <StreamField {...props} id='stream-6' />;\n  })\n  .add('List block, 1 child block type', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'list',\n          children: [\n            {\n              key: 'bool',\n              html: '<input type=\"checkbox\" name=\"field-__ID__\" />'\n            }\n          ]\n        }\n      ],\n      value: [\n        {\n          type: 'list',\n          value: [{ type: 'bool', value: true }, { type: 'bool', value: false }]\n        }\n      ]\n    };\n\n    return <StreamField {...props} id='stream-7' />;\n  })\n  .add('List block, 1 child block type, default value', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'list',\n          children: [\n            {\n              key: 'bool',\n              html: '<input type=\"checkbox\" name=\"field-__ID__\" />'\n            }\n          ],\n          default: [{ type: 'bool', value: true }]\n        }\n      ],\n      value: []\n    };\n    return <StreamField {...props} id='stream-8' />;\n  })\n  .add('List block, 1 child block type, custom HTML', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'list',\n          children: [\n            {\n              key: 'bool',\n              html: '<input type=\"checkbox\" name=\"field-__ID__\" />'\n            }\n          ],\n          html:\n            'As you can see by this text, it’s possible <strong>to insert some HTML</strong> before or after the contained blocks. <BlocksContainer /> You can even have multiple times the same blocks container. <BlocksContainer /> Can’t think of a case where that would be useful, but still, it’s possible if you really want it.'\n        }\n      ],\n      value: []\n    };\n    return <StreamField {...props} id='stream-9' />;\n  })\n  .add('List block, 2 children block types with groups', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'list',\n          children: [\n            {\n              key: 'title',\n              icon: '<i class=\"fas fa-heading fa-fw\"></i>',\n              className: 'full title',\n              group: 'Text',\n              html: '<input type=\"text\" name=\"field-__ID__\" />'\n            },\n            {\n              key: 'bool',\n              group: 'Other',\n              html: '<input type=\"checkbox\" name=\"field-__ID__\" />'\n            },\n            {\n              key: 'second_bool',\n              group: 'Other',\n              html: '<input type=\"checkbox\" name=\"field-__ID__\" />'\n            },\n            {\n              key: 'third_bool',\n              html: '<input type=\"checkbox\" name=\"field-__ID__\" />'\n            }\n          ],\n          default: [\n            { type: 'title', value: 'Lorem ipsum' },\n            { type: 'bool', value: true }\n          ]\n        }\n      ],\n      value: [\n        {\n          type: 'list',\n          value: [\n            { type: 'title', value: 'NoriPyt rocks!' },\n            { type: 'bool', value: false }\n          ]\n        }\n      ]\n    };\n    return <StreamField {...props} id='stream-10' />;\n  })\n  .add('Simple block layout', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'title',\n          layout: 'SIMPLE',\n          icon: '<i class=\"fas fa-heading fa-fw\"></i>',\n          className: 'full title',\n          html: '<input type=\"text\" name=\"field-__ID__\" />'\n        },\n        {\n          key: 'text',\n          layout: 'SIMPLE',\n          icon: '<i class=\"fas fa-align-justify fa-fw\"></i>',\n          className: 'full',\n          html: '<textarea name=\"field-__ID__\"></textarea>'\n        },\n        {\n          key: 'static',\n          layout: 'SIMPLE',\n          isStatic: true,\n          html: 'Some static block'\n        }\n      ],\n      value: [\n        { type: 'title', value: 'Wagtail is awesome!' },\n        { type: 'text', value: 'And it’s always getting better 😃' },\n        { type: 'static' }\n      ]\n    };\n    return <StreamField {...props} id='stream-11' />;\n  })\n  .add('Mixed block layouts', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'title',\n          layout: 'SIMPLE',\n          icon: '<i class=\"fas fa-heading fa-fw\"></i>',\n          className: 'full title',\n          html: '<input type=\"text\" name=\"field-__ID__\" />'\n        },\n        {\n          key: 'text',\n          icon: '<i class=\"fas fa-align-justify fa-fw\"></i>',\n          className: 'full',\n          html: '<textarea name=\"field-__ID__\"></textarea>'\n        },\n        {\n          key: 'static',\n          layout: 'SIMPLE',\n          isStatic: true,\n          html: 'Some static block'\n        }\n      ],\n      value: [\n        { type: 'title', value: 'Wagtail is awesome!' },\n        { type: 'text', value: 'And it’s always getting better 😃' },\n        { type: 'static' }\n      ]\n    };\n    return <StreamField {...props} id='stream-12' />;\n  })\n  .add('Maximum number of blocks', () => {\n    const props = {\n      required: true,\n      minNum: null,\n      maxNum: 2,\n      blockDefinitions: [\n        {\n          key: 'list',\n          maxNum: 5,\n          children: [\n            {\n              key: 'bool',\n              html: '<input type=\"checkbox\" name=\"field-__ID__\" />'\n            }\n          ]\n        }\n      ],\n      value: [\n        {\n          type: 'list',\n          value: [{ type: 'bool', value: true }, { type: 'bool', value: false }]\n        }\n      ]\n    };\n    return <StreamField {...props} id='stream-13' />;\n  })\n  .add('Error in one of the nested blocks', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'list',\n          children: [\n            {\n              key: 'bool',\n              html: '<input type=\"checkbox\" name=\"field-__ID__\" />'\n            }\n          ]\n        }\n      ],\n      value: [\n        {\n          type: 'list',\n          value: [\n            { type: 'bool', value: true },\n            { type: 'bool', value: false, hasError: true }\n          ]\n        }\n      ]\n    };\n    return <StreamField {...props} id='stream-14' />;\n  })\n  .add('Struct block', () => {\n    const props = {\n      blockDefinitions: [\n        {\n          key: 'struct',\n          isStruct: true,\n          children: [\n            {\n              key: 'some_field'\n            },\n            {\n              key: 'another_field'\n            }\n          ],\n          label: 'Struct'\n        }\n      ],\n      value: []\n    };\n    return <StreamField {...props} id='stream-15' />;\n  })\n  .add('Struct block with default value', () => {\n    const props = {\n      blockDefinitions: [\n        {\n          key: 'struct',\n          isStruct: true,\n          children: [\n            {\n              key: 'some_field',\n              default: 'Lorem'\n            },\n            {\n              key: 'another_field',\n              default: 'Ipsum'\n            }\n          ],\n          label: 'Struct'\n        }\n      ],\n      value: []\n    };\n\n    return <StreamField {...props} id='stream-16' />;\n  })\n  .add('Struct block with custom HTML', () => {\n    const props = {\n      blockDefinitions: [\n        {\n          key: 'struct',\n          isStruct: true,\n          children: [\n            {\n              key: 'some_field'\n            },\n            {\n              key: 'another_field'\n            }\n          ],\n          label: 'Struct',\n          html:\n            'Like for lists, we can add HTML before struct fields <BlocksContainer /> and after as well.'\n        }\n      ],\n      value: []\n    };\n    return <StreamField {...props} id='stream-17' />;\n  })\n  .add('Struct block as a struct block field', () => {\n    const props = {\n      value: [],\n      blockDefinitions: [\n        {\n          key: 'struct',\n          isStruct: true,\n          children: [\n            {\n              key: 'some_field'\n            },\n            {\n              key: 'link',\n              isStruct: true,\n              children: [\n                {\n                  key: 'url',\n                  label: 'URL',\n                  default: 'https://noripyt.com'\n                },\n                {\n                  key: 'email',\n                  label: 'E-mail'\n                }\n              ]\n            },\n            {\n              key: 'another_field'\n            }\n          ],\n          label: 'Struct'\n        }\n      ]\n    };\n    return <StreamField {...props} id='stream-18' />;\n  })\n  .add('StructBlock as a list block child', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'list',\n          children: [\n            {\n              key: 'link',\n              isStruct: true,\n              children: [\n                {\n                  key: 'url',\n                  label: 'URL'\n                },\n                {\n                  key: 'email',\n                  label: 'E-mail'\n                }\n              ]\n            }\n          ]\n        }\n      ],\n      value: []\n    };\n    return <StreamField {...props} id='stream-19' />;\n  })\n  .add('Complex nested StreamField', () => {\n    return <StreamField {...complexNestedStreamField} id='stream-20' />;\n  })\n  .add('Custom action icons', () => {\n    const props = {\n      required: true,\n      icons: {\n        moveUp: '⇑',\n        moveDown: '⇓',\n        duplicate: '+',\n        delete: '-',\n        grip: '↕'\n      },\n      blockDefinitions: [\n        {\n          key: 'title',\n          layout: 'SIMPLE',\n          className: 'full title',\n          html: '<input type=\"text\" name=\"field-__ID__\" />'\n        }\n      ],\n      value: [{ type: 'title', value: 'Wagtail is awesome!' }]\n    };\n\n    return <StreamField {...props} id='stream-21' />;\n  })\n  .add('JavaScript widget', () => {\n    const props = {\n      required: true,\n      blockDefinitions: [\n        {\n          key: 'date',\n          layout: 'SIMPLE',\n          dangerouslyRunInnerScripts: true,\n          html: '<input type=\"text\" name=\"field-__ID__\" id=\"field-__ID__\" />' +\n            '<script>flatpickr(\"#field-__ID__\");</script>',\n        },\n      ],\n      value: [],\n    };\n    return <StreamField {...props} id=\"stream-22\" />;\n  });\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport AnimateHeight from 'react-animate-height';\nimport {addBlock} from './actions';\nimport {\n  getLabel,\n  getNestedBlockDefinition,\n  getSiblingsIds, isNA\n} from './processing/utils';\n\n\n@connect((state, props) => {\n  const {fieldId, parentId, blockId} = props;\n  let blockDefinitions;\n  if (parentId) {\n    blockDefinitions = getNestedBlockDefinition(state, fieldId,\n                                                parentId).children;\n  } else {\n    blockDefinitions = state[fieldId].blockDefinitions;\n  }\n\n  let index = 0;\n  if (blockId !== undefined) {\n    // Incremented by 1 to add after the current block.\n    index = getSiblingsIds(state, fieldId, blockId).indexOf(blockId) + 1;\n  }\n\n  return {blockDefinitions, index};\n}, (dispatch, props) => {\n  const {fieldId, parentId} = props;\n  return bindActionCreators({\n    addBlock: (index, blockType) => addBlock(fieldId, parentId,\n                                             index, blockType),\n  }, dispatch);\n})\nclass AddButton extends React.Component {\n  static propTypes = {\n    fieldId: PropTypes.string.isRequired,\n    parentId: PropTypes.string,\n    blockId: PropTypes.string,\n    open: PropTypes.bool,\n    visible: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    open: false,\n    visible: true,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {open: props.open};\n  }\n\n  get hasChoice() {\n    return this.props.blockDefinitions.length !== 1;\n  }\n\n  toggle = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    if (this.hasChoice) {\n      this.setState((state, props) => ({open: !state.open}));\n    } else {\n      this.props.addBlock(this.props.index,\n                          this.props.blockDefinitions[0].key);\n    }\n  };\n\n  addHandler = event => {\n    this.props.addBlock(this.props.index,\n                        event.target.closest('button').value);\n    this.toggle(event);\n  };\n\n  getIcon(blockDefinition) {\n    const {icon} = blockDefinition;\n    if (isNA(icon)) {\n      return null;\n    }\n    return <span className=\"icon\" dangerouslySetInnerHTML={\n      {__html: icon}\n    } />;\n  }\n\n  get panelHeight() {\n    return this.state.open && this.props.visible ? 'auto' : 0;\n  }\n\n  get groupedBlockDefinitions() {\n    const grouped = {};\n    for (const blockDefinition of this.props.blockDefinitions) {\n      const key = blockDefinition.group || '';\n      const others = grouped[key] || [];\n      others.push(blockDefinition);\n      grouped[key] = others;\n    }\n    return grouped;\n  }\n\n  render() {\n    const {visible} = this.props;\n    const button = (\n      <button onClick={this.toggle}\n              className={classNames(\n                'add', visible && 'visible',\n                (this.state.open && this.hasChoice) && 'close')}>\n        <i aria-hidden={true}>+</i>\n      </button>\n    );\n    if (this.hasChoice) {\n      return (\n        <>\n          {button}\n          <AnimateHeight height={this.panelHeight} easing=\"ease-in-out\"\n                         contentClassName=\"add-panel\">\n            {Object.entries(this.groupedBlockDefinitions).map(\n              ([group, blockDefinitions]) => (\n                <div key={group}>\n                  {group ? <h4 className=\"group-name\">{group}</h4> : null}\n                  {blockDefinitions.map(blockDefinition =>\n                    <button key={blockDefinition.key} onClick={this.addHandler}\n                            value={blockDefinition.key} className=\"type\">\n                      {this.getIcon(blockDefinition)}\n                      <span className=\"label\">{getLabel(blockDefinition)}</span>\n                    </button>\n                  )}\n                </div>\n            ))}\n          </AnimateHeight>\n        </>\n      );\n    }\n    return button;\n  }\n}\n\n\nexport default AddButton;\n","export const initializeStreamField = (id, data) => ({\n  type: 'INITIALIZE_STREAM_FIELD',\n  id, data,\n});\n\n\nexport const setIsMobile = (id, isMobile) => ({\n  type: 'SET_IS_MOBILE',\n  id, isMobile,\n});\n\n\nexport const blockUpdated = (fieldId, blockId) => ({\n  type: 'BLOCK_UPDATED',\n  fieldId, blockId,\n});\n\n\nexport const changeBlockValue = (fieldId, blockId, value) => ({\n  type: 'CHANGE_BLOCK_VALUES',\n  fieldId, blockId,\n  value,\n});\n\n\nexport const toggleBlock = (fieldId, blockId) => ({\n  type: 'TOGGLE_BLOCK',\n  fieldId, blockId,\n});\n\n\nexport const showBlock = (fieldId, blockId) => dispatch => {\n  return new Promise(resolve => {\n    setTimeout(resolve, 0.001);\n  }).then(() => {\n    dispatch({\n      type: 'SHOW_BLOCK',\n      fieldId, blockId,\n    });\n  });\n};\n\n\nexport const hideBlock = (fieldId, blockId) => ({\n  type: 'HIDE_BLOCK',\n  fieldId, blockId,\n});\n\n\nexport const addBlock = (fieldId, parentId, index, blockType) => ({\n  type: 'ADD_BLOCK',\n  fieldId, parentId, index, blockType,\n});\n\n\nexport const duplicateBlock = (fieldId, blockId) => ({\n  type: 'DUPLICATE_BLOCK',\n  fieldId, blockId,\n});\n\n\nexport const moveBlock = (fieldId, blockId, newIndex) => ({\n  type: 'MOVE_BLOCK',\n  fieldId, blockId, newIndex,\n});\n\n\nexport const deleteBlock = (fieldId, blockId) => ({\n  type: 'DELETE_BLOCK',\n  fieldId, blockId,\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport {\n  getFieldName,\n  isStatic,\n  shouldRunInnerScripts\n} from './processing/utils';\n\n\nclass RawHtmlFieldInput extends React.Component {\n  static propTypes = {\n    fieldId: PropTypes.string.isRequired,\n    blockDefinition: PropTypes.object.isRequired,\n    blockId: PropTypes.string.isRequired,\n    html: PropTypes.string.isRequired,\n    value: PropTypes.any,\n    changeBlockValue: PropTypes.func.isRequired,\n  };\n\n  runInnerScripts() {\n    if (shouldRunInnerScripts(this.props.blockDefinition)) {\n      for (let script\n           of ReactDOM.findDOMNode(this).querySelectorAll('script')) {\n        script.parentNode.removeChild(script);\n        window.eval(script.innerHTML);\n      }\n    }\n  }\n\n  setValue(input) {\n    const {value} = this.props;\n    if ((value !== undefined) && (value !== null)) {\n      if (input.type === 'file') {\n        input.files = value;\n      } else if ((input.type === 'checkbox') || (input.type === 'radio')) {\n        input.checked = value === null ? false : (\n          typeof value === 'boolean' ? value : value.includes(input.value));\n      } else if (input.type === 'hidden') {\n        input.value = value;\n        input.dispatchEvent(new Event('change'));\n      } else {\n        input.value = value;\n      }\n    }\n  }\n\n  bindChange(input) {\n    if (input.type === 'hidden') {\n      const observer = new MutationObserver(() => {\n        input.dispatchEvent(new Event('change'));\n      });\n      observer.observe(input, {\n        attributes: true, attributeFilter: ['value'],\n      });\n      this.mutationObservers.push(observer);\n    }\n    input.addEventListener('change', this.onChange);\n  }\n\n  unbindChange(input) {\n    input.removeEventListener('change', this.onChange);\n  }\n\n  componentDidMount() {\n    const {blockDefinition, blockId} = this.props;\n    if (!isStatic(blockDefinition)) {\n      const name = getFieldName(blockId);\n      this.inputs = [\n        ...ReactDOM.findDOMNode(this).querySelectorAll(`[name=\"${name}\"]`)];\n      if (this.inputs.length === 0) {\n        throw Error(`Could not find input with name \"${name}\"`);\n      }\n      this.mutationObservers = [];\n      for (let input of this.inputs) {\n        this.setValue(input);\n        this.bindChange(input);\n        // We remove the name attribute to remove inputs from the submitted form.\n        input.removeAttribute('name');\n      }\n    }\n    this.runInnerScripts();\n  }\n\n  componentWillUnmount() {\n    if (!isStatic(this.props.blockDefinition)) {\n      for (let observer of this.mutationObservers) {\n        observer.disconnect();\n      }\n      for (let input of this.inputs) {\n        this.unbindChange(input);\n      }\n    }\n  }\n\n  onChange = event => {\n    const input = event.target;\n    let value;\n    if (input.type === 'file') {\n      value = input.files;\n    } else if (input.type === 'checkbox' || input.type === 'radio') {\n      const boxes = this.inputs;\n      value = boxes.filter(box => box.checked).map(box => box.value);\n    } else if (input.tagName === 'SELECT') {\n      value = input.options[input.selectedIndex].value;\n    } else {\n      value = input.value;\n    }\n    this.props.changeBlockValue(value);\n  };\n\n  get html() {\n    const {blockDefinition, html, blockId} = this.props;\n    if (isStatic(blockDefinition)) {\n      return html;\n    }\n    return html.replace(/__ID__/g, blockId);\n  }\n\n  render() {\n    return (\n      <div dangerouslySetInnerHTML={{__html: this.html}} />\n    );\n  }\n}\n\n\nexport default RawHtmlFieldInput;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {\n  getFieldName,\n  getNestedBlockDefinition,\n  isField, isNA,\n  isStruct, replaceWithComponent\n} from './processing/utils';\nimport {changeBlockValue} from './actions';\nimport Block from './Block';\nimport BlocksContainer from './BlocksContainer';\nimport RawHtmlFieldInput from './RawHtmlFieldInput';\n\n\n@connect((state, props) => {\n  const {fieldId, blockId} = props;\n  const block = state[fieldId].blocks[blockId];\n  return {\n    blockDefinition: getNestedBlockDefinition(state, fieldId, blockId),\n    html: block.html,\n    value: block.value,\n  };\n}, (dispatch, props) => {\n  const {fieldId, blockId} = props;\n  return bindActionCreators({\n    changeBlockValue: value => changeBlockValue(fieldId, blockId, value),\n  }, dispatch);\n})\nclass FieldInput extends React.Component {\n  static propTypes = {\n    fieldId: PropTypes.string.isRequired,\n    blockId: PropTypes.string.isRequired,\n  };\n\n  render() {\n    const {fieldId, blockDefinition, blockId, value} = this.props;\n    if (isStruct(blockDefinition)) {  // Nested StructBlock\n      return (\n        <Block fieldId={fieldId} id={blockId}\n               standalone sortable={false} collapsible={false} />\n      );\n    }\n    let html = this.props.html;\n    if (isNA(html)) {\n      html = blockDefinition.html;\n    }\n    if (isField(blockDefinition)) {\n      if (isNA(html)) {\n        html = `<input id=\"${blockId}\" name=\"${getFieldName(blockId)}\"\n                       type=\"text\" />`;\n      }\n      return (\n        <RawHtmlFieldInput fieldId={fieldId} blockDefinition={blockDefinition}\n                           blockId={blockId} html={html} value={value}\n                           changeBlockValue={this.props.changeBlockValue} />\n      );\n    }\n    const blocksContainer = <BlocksContainer fieldId={fieldId} id={blockId} />;\n    if (isNA(html)) {\n      return blocksContainer;\n    }\n    return replaceWithComponent(html, '<BlocksContainer />', blocksContainer);\n  }\n}\n\n\nexport default FieldInput;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport {connect} from 'react-redux';\nimport {\n  getFieldName, getLabel,\n  getNestedBlockDefinition,\n} from './processing/utils';\nimport FieldInput from './FieldInput';\n\n\n@connect((state, props) => {\n  const {fieldId, parentBlockId, type} = props;\n  const blocks = state[fieldId].blocks;\n  const parentBlock = blocks[parentBlockId];\n  const blockId = parentBlock.value.find(\n    childBlockId => blocks[childBlockId].type === type);\n  return {\n    blockDefinition: getNestedBlockDefinition(state, fieldId, blockId),\n    blockId,\n  };\n})\nclass StructChildField extends React.Component {\n  static propTypes = {\n    fieldId: PropTypes.string.isRequired,\n    parentBlockId: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n  };\n\n  render() {\n    const {fieldId, blockId, blockDefinition} = this.props;\n    return (\n      <div className={classNames('field',\n                                 !!blockDefinition.required && 'required')}>\n        <label htmlFor={getFieldName(blockId)}>\n          {getLabel(blockDefinition)}\n        </label>\n        <FieldInput fieldId={fieldId} blockId={blockId} />\n      </div>\n    );\n  }\n}\n\n\nexport default StructChildField;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport {connect} from 'react-redux';\nimport AnimateHeight from 'react-animate-height';\nimport {\n  getNestedBlockDefinition,\n  isStruct,\n  getDescendantsIds, isSimpleLayout, replaceWithComponent, isNA,\n} from './processing/utils';\nimport StructChildField from './StructChildField';\nimport FieldInput from './FieldInput';\n\n\n@connect((state, props) => {\n  const {fieldId, blockId} = props;\n  const fieldData = state[fieldId];\n  const blocks = fieldData.blocks;\n  const block = blocks[blockId];\n  const blockDefinition = getNestedBlockDefinition(state, fieldId, blockId);\n  const hasDescendantError = getDescendantsIds(state, fieldId, blockId, true)\n    .some(descendantBlockId => blocks[descendantBlockId].hasError);\n  return {\n    isSimpleLayout: isSimpleLayout(blockDefinition, fieldData.isMobile),\n    blockDefinition,\n    html: block.html,\n    closed: block.closed && !hasDescendantError,\n  };\n})\nclass BlockContent extends React.Component {\n  static propTypes = {\n    fieldId: PropTypes.string.isRequired,\n    blockId: PropTypes.string.isRequired,\n    collapsible: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    collapsible: true,\n  };\n\n  get html() {\n    const {fieldId, blockDefinition, blockId} = this.props;\n    if (isStruct(blockDefinition)) {\n      const blocksContainer = blockDefinition.children.map(\n        childBlockDefinition =>\n          <StructChildField key={childBlockDefinition.key} fieldId={fieldId}\n                            parentBlockId={blockId}\n                            type={childBlockDefinition.key}/>\n      );\n      let html = this.props.html;\n      if (isNA(html)) {\n        html = blockDefinition.html;\n      }\n      if (isNA(html)) {\n        return blocksContainer;\n      }\n      return replaceWithComponent(html, '<BlocksContainer />',\n                                  blocksContainer);\n    }\n    return <FieldInput fieldId={fieldId} blockId={blockId} />;\n  }\n\n  get height() {\n    return this.props.closed ? 0 : 'auto';\n  }\n\n  render() {\n    const {isSimpleLayout, blockDefinition, collapsible} = this.props;\n    const content = this.html;\n    const className = classNames('content', blockDefinition.className);\n    if (collapsible && !isSimpleLayout) {\n      return (\n        <AnimateHeight height={this.height} easing=\"ease-in-out\"\n                       className=\"content-container\"\n                       contentClassName={className}>\n          {content}\n        </AnimateHeight>\n      );\n    }\n    return (\n      <div className=\"content-container\">\n        <div className={className}>\n          {content}\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default BlockContent;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {\n  getLabel,\n  getNestedBlockDefinition,\n  getSiblingsIds, isSimpleLayout,\n  triggerCustomEvent, triggerKeyboardEvent\n} from './processing/utils';\nimport {duplicateBlock, hideBlock} from './actions';\nimport {refType} from './types';\n\n\n@connect((state, props) => {\n  const {fieldId, blockId} = props;\n  const blockDefinition = getNestedBlockDefinition(state, fieldId, blockId);\n  const siblings = getSiblingsIds(state, fieldId, blockId);\n  return {\n    isSimpleLayout: isSimpleLayout(blockDefinition, state[fieldId].isMobile),\n    blockDefinition,\n    siblings,\n    icons: state[fieldId].icons,\n    index: siblings.indexOf(blockId),\n  };\n}, (dispatch, props) => {\n  const {fieldId, blockId} = props;\n  return bindActionCreators({\n    hideBlock: () => hideBlock(fieldId, blockId),\n    duplicateBlock: () => duplicateBlock(fieldId, blockId),\n  }, dispatch);\n})\nclass BlockActions extends React.Component {\n  static propTypes = {\n    fieldId: PropTypes.string.isRequired,\n    blockId: PropTypes.string.isRequired,\n    sortableBlock: PropTypes.bool,\n    canDuplicate: PropTypes.bool,\n    dragHandleRef: refType,\n  };\n\n  static defaultProps = {\n    sortableBlock: true,\n    canDuplicate: true,\n  };\n\n  get moveUpIcon() {\n    const {icons} = this.props;\n    if ((icons === undefined) || (icons.moveUp === undefined)) {\n      return <i className=\"fas fa-chevron-up\" aria-hidden={true} />;\n    }\n    return <span dangerouslySetInnerHTML={{__html: icons.moveUp}} />;\n  }\n\n  get moveDownIcon() {\n    const {icons} = this.props;\n    if ((icons === undefined) || (icons.moveDown === undefined)) {\n      return <i className=\"fas fa-chevron-down\" aria-hidden={true} />;\n    }\n    return <span dangerouslySetInnerHTML={{__html: icons.moveDown}} />;\n  }\n\n  get duplicateIcon() {\n    const {icons} = this.props;\n    if ((icons === undefined) || (icons.duplicate === undefined)) {\n      return <i className=\"fas fa-clone\" aria-hidden={true} />;\n    }\n    return <span dangerouslySetInnerHTML={{__html: icons.duplicate}} />;\n  }\n\n  get deleteIcon() {\n    const {icons} = this.props;\n    if ((icons === undefined) || (icons.delete === undefined)) {\n      return <i className=\"fas fa-trash\" aria-hidden={true} />;\n    }\n    return <span dangerouslySetInnerHTML={{__html: icons.delete}} />;\n  }\n\n  get isFirst() {\n    return this.props.index === 0;\n  }\n\n  get isLast() {\n    return this.props.index === (this.props.siblings.length - 1);\n  }\n\n  triggerCustomEvent(name, data=null) {\n    triggerCustomEvent(ReactDOM.findDOMNode(this), name, data);\n  }\n\n  sendKeyToDragHandle = key => {\n    const dragHandle = ReactDOM.findDOMNode(this.props.dragHandleRef.current);\n    triggerKeyboardEvent(dragHandle, 32);  // 32 for spacebar, to drag\n    return new Promise(resolve => {\n      setTimeout(() => {\n        triggerKeyboardEvent(dragHandle, key);\n        setTimeout(() => {\n          triggerKeyboardEvent(dragHandle, 32);  // Drop at the new position\n          resolve();\n        }, 100);  // 100 ms is the duration of a move in react-beautiful-dnd\n      }, 0);\n    });\n  };\n\n  moveUpHandler = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    this.sendKeyToDragHandle(38)  // 38 for up arrow\n      .then(() => {\n        this.triggerCustomEvent('move', {index: this.props.index});\n      });\n  };\n\n  moveDownHandler = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    this.sendKeyToDragHandle(40)  // 40 for down arrow\n      .then(() => {\n        this.triggerCustomEvent('move', {index: this.props.index});\n      });\n  };\n\n  duplicateHandler = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    this.props.duplicateBlock();\n    this.triggerCustomEvent('duplicate');\n  };\n\n  deleteHandler = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    this.props.hideBlock();\n  };\n\n  render() {\n    const {\n      blockDefinition, isSimpleLayout, sortableBlock, canDuplicate,\n    } = this.props;\n    return (\n      <aside>\n        <div className=\"actions\">\n          {sortableBlock ?\n            <>\n              <button onClick={this.moveUpHandler}\n                      title=\"Move up\" disabled={this.isFirst}>\n                {this.moveUpIcon}\n              </button>\n              <button onClick={this.moveDownHandler}\n                      title=\"Move down\" disabled={this.isLast}>\n                {this.moveDownIcon}\n              </button>\n            </>\n            :\n            null}\n          <button onClick={this.duplicateHandler}\n                  title=\"Duplicate\" disabled={!canDuplicate}>\n            {this.duplicateIcon}\n          </button>\n          <button onClick={this.deleteHandler} title=\"Delete\">\n            {this.deleteIcon}\n          </button>\n        </div>\n        {isSimpleLayout ?\n          <span className=\"block-type\">\n            {getLabel(blockDefinition)}\n          </span>\n          :\n          null\n        }\n      </aside>\n    );\n  }\n}\n\n\nexport default BlockActions;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {\n  getLabel,\n  getNestedBlockDefinition, isNA, isSimpleLayout,\n  isStruct, structValueToObject, triggerCustomEvent\n} from './processing/utils';\nimport {toggleBlock} from './actions';\nimport BlockActions from './BlockActions';\nimport {refType} from './types';\n\n\n@connect((state, props) => {\n  const {fieldId, blockId} = props;\n  const fieldData = state[fieldId];\n  const blocks = fieldData.blocks;\n  const block = blocks[blockId];\n  const blockDefinition = getNestedBlockDefinition(state, fieldId, blockId);\n  const value = block.value;\n  return {\n    isSimpleLayout: isSimpleLayout(blockDefinition, fieldData.isMobile),\n    blockDefinition,\n    icons: fieldData.icons,\n    value: isStruct(blockDefinition) ?\n             structValueToObject(state, fieldId, value)\n             :\n             value,\n  };\n}, (dispatch, props) => {\n  const {fieldId, blockId} = props;\n  return bindActionCreators({\n    toggleBlock: () => toggleBlock(fieldId, blockId),\n  }, dispatch);\n})\nclass BlockHeader extends React.Component {\n  static propTypes = {\n    fieldId: PropTypes.string.isRequired,\n    blockId: PropTypes.string.isRequired,\n    collapsibleBlock: PropTypes.bool,\n    sortableBlock: PropTypes.bool,\n    canDuplicate: PropTypes.bool,\n    dragHandleRef: refType,\n    dragHandleProps: PropTypes.object,\n  };\n\n  static defaultProps = {\n    collapsibleBlock: true,\n    sortableBlock: true,\n    canDuplicate: true,\n  };\n\n  get icon() {\n    const {blockDefinition} = this.props;\n    if (blockDefinition.icon !== undefined) {\n      return <span className=\"type-icon\" dangerouslySetInnerHTML={\n        {__html: blockDefinition.icon}\n      } />;\n    }\n  }\n\n  get title() {\n    const {title, blockDefinition, value} = this.props;\n    if (isStruct(blockDefinition)) {\n      if ((title !== undefined) && (title !== null)) {\n        return title;\n      }\n      if (blockDefinition.titleTemplate !== undefined) {\n        let hasVariables = false;\n        let isEmpty = true;\n        let renderedTitle = blockDefinition.titleTemplate.replace(\n          /\\${([^}]+)}/g, (match, varName) => {\n            let childValue = value[varName];\n            if (isNA(childValue)) {\n              childValue = '';\n            } else if (childValue !== '') {\n              isEmpty = false;\n            }\n            hasVariables = true;\n            return childValue;\n          });\n        if (!hasVariables || !isEmpty) {\n          return renderedTitle;\n        }\n      }\n    }\n    return null;\n  }\n\n  get titleAndType() {\n    const title = this.title;\n    const icon = this.icon;\n    const blockType = (\n      <span className=\"block-type\">\n        {getLabel(this.props.blockDefinition)}\n      </span>\n    );\n    if (title === null) {\n      if (icon === null) {\n        return blockType;\n      }\n\n      return (\n        <span>\n          <h3>{icon}</h3>\n          {blockType}\n        </span>\n      );\n    }\n\n    return (\n      <>\n        <h3>{icon}{title}</h3>\n        {blockType}\n      </>\n    );\n  }\n\n  triggerCustomEvent(name, data=null) {\n    triggerCustomEvent(ReactDOM.findDOMNode(this), name, data);\n  }\n\n  toggle = () => {\n    const {isSimpleLayout, toggleBlock, closed} = this.props;\n    if (isSimpleLayout) {\n      return;\n    }\n    toggleBlock();\n    this.triggerCustomEvent('toggle', {closed: !closed});\n  };\n\n  get gripIcon() {\n    const {icons} = this.props;\n    if ((icons === undefined) || (icons.grip === undefined)) {\n      return <i className=\"fas fa-grip-vertical fa-fw\" aria-hidden={true} />;\n    }\n    return <span dangerouslySetInnerHTML={{__html: icons.grip}} />;\n  }\n\n  render() {\n    const {\n      fieldId, blockId, isSimpleLayout, dragHandleProps,\n      collapsibleBlock, sortableBlock, canDuplicate, dragHandleRef,\n    } = this.props;\n    const icon = this.icon;\n    let content;\n    if (isSimpleLayout) {\n      content = (\n        <h3>{icon ? icon : this.gripIcon}</h3>\n      );\n    } else {\n      content = (\n        <>\n          {this.titleAndType}\n          <BlockActions fieldId={fieldId} blockId={blockId}\n                        sortableBlock={sortableBlock}\n                        canDuplicate={canDuplicate}\n                        dragHandleRef={dragHandleRef} />\n        </>\n      );\n    }\n    return (\n      <header ref={dragHandleRef}  onClick={this.toggle}\n              {...dragHandleProps}\n              className={classNames(collapsibleBlock && 'collapsible',\n                                    sortableBlock && 'sortable')}>\n        {content}\n      </header>\n    );\n  }\n}\n\n\nexport default BlockHeader;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport AnimateHeight from 'react-animate-height';\nimport {Draggable} from 'react-beautiful-dnd';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {\n  blockUpdated,\n  deleteBlock,\n  showBlock,\n} from './actions';\nimport {\n  getDescendantsIds, getLayout,\n  getNestedBlockDefinition,\n  getSiblingsIds, isSimpleLayout,\n  triggerCustomEvent,\n} from './processing/utils';\nimport AddButton from './AddButton';\nimport BlockContent from './BlockContent';\nimport BlockHeader from './BlockHeader';\nimport BlockActions from './BlockActions';\n\n\n@connect((state, props) => {\n  const {fieldId, id} = props;\n  const fieldData = state[fieldId];\n  const blocks = fieldData.blocks;\n  const block = blocks[id];\n  const siblings = getSiblingsIds(state, fieldId, id);\n  const blockDefinition = getNestedBlockDefinition(state, fieldId, id);\n  const hasDescendantError = getDescendantsIds(state, fieldId, id, true)\n    .some(descendantBlockId => blocks[descendantBlockId].hasError);\n  return {\n    blockDefinition,\n    layout: getLayout(blockDefinition, fieldData.isMobile),\n    isSimpleLayout: isSimpleLayout(blockDefinition, fieldData.isMobile),\n    parentId: block.parent,\n    hasError: hasDescendantError,\n    closed: block.closed,\n    hidden: block.hidden,\n    shouldUpdate: block.shouldUpdate,\n    index: siblings.indexOf(id),\n  };\n}, (dispatch, props) => {\n  const {fieldId, id} = props;\n  return bindActionCreators({\n    blockUpdated: () => blockUpdated(fieldId, id),\n    showBlock: () => showBlock(fieldId, id),\n    deleteBlock: () => deleteBlock(fieldId, id),\n  }, dispatch);\n})\nclass Block extends React.Component {\n  static propTypes = {\n    fieldId: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired,\n    standalone: PropTypes.bool,\n    collapsible: PropTypes.bool,\n    sortable: PropTypes.bool,\n    canAdd: PropTypes.bool,\n  };\n\n\n  static defaultProps = {\n    standalone: false,\n    collapsible: true,\n    sortable: true,\n    canAdd: true,\n  };\n\n  constructor(props) {\n    super(props);\n    this.dragHandleRef = React.createRef();\n    this.contentRef = React.createRef();\n  }\n\n  shouldComponentUpdate(nextProps, nextState, nextContext) {\n    return nextProps.shouldUpdate || (nextProps.layout !== this.props.layout);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (!prevProps.shouldUpdate) {\n      this.props.blockUpdated();\n    }\n  }\n\n  triggerCustomEvent(name, data=null) {\n    triggerCustomEvent(ReactDOM.findDOMNode(this), name, data);\n  }\n\n  onDraggableContainerAnimationEnd = () => {\n    if (this.props.hidden) {\n      this.triggerCustomEvent('delete');\n      this.props.deleteBlock();\n    }\n  };\n\n  get draggableHeight() {\n    return this.props.hidden ? 0 : 'auto';\n  }\n\n  componentDidMount() {\n    if (this.props.hidden) {\n      this.props.showBlock();\n    }\n  }\n\n  wrapSortable(blockContent) {\n    const {\n      layout, isSimpleLayout, fieldId, id, parentId, index, hasError,\n      collapsible, sortable, canAdd,\n    } = this.props;\n    const className = `block${hasError ? ' has-error' : ''}`;\n    if (sortable) {\n      return (\n        <Draggable draggableId={id} index={index}\n                   type={`${fieldId}-${parentId}`}>\n          {(provided, snapshot) => (\n            <article className={className}\n                     ref={provided.innerRef}\n                     {...provided.draggableProps}>\n              <div className={`block-container ${layout}`}>\n                <BlockHeader fieldId={fieldId} blockId={id}\n                             collapsibleBlock={collapsible}\n                             sortableBlock={sortable}\n                             canDuplicate={canAdd}\n                             dragHandleRef={this.dragHandleRef}\n                             dragHandleProps={provided.dragHandleProps} />\n                {blockContent}\n                {isSimpleLayout ?\n                  <BlockActions fieldId={fieldId} blockId={id}\n                                sortableBlock={sortable} canDuplicate={canAdd}\n                                dragHandleRef={this.dragHandleRef} />\n                  :\n                  null}\n              </div>\n            </article>\n          )}\n        </Draggable>\n      );\n    }\n    return (\n      <article className={className}>\n        <div className=\"block-container\">\n          <BlockHeader fieldId={fieldId} blockId={id}\n                       collapsibleBlock={collapsible}\n                       sortableBlock={sortable}\n                       canDuplicate={canAdd}\n                       dragHandleRef={this.dragHandleRef} />\n          {blockContent}\n        </div>\n      </article>\n    );\n  }\n\n  render() {\n    const {\n      fieldId, id, parentId, standalone, collapsible, canAdd,\n    } = this.props;\n    const blockContent = (\n      <BlockContent ref={this.contentRef} fieldId={fieldId} blockId={id}\n                    collapsible={collapsible} />\n    );\n    if (standalone) {\n      return (\n        <article className=\"block\">\n          <div className=\"block-container\">\n            {blockContent}\n          </div>\n        </article>\n      );\n    }\n    return (\n      <>\n        <AnimateHeight className=\"draggable-container\"\n                   height={this.draggableHeight}\n                   onAnimationEnd={this.onDraggableContainerAnimationEnd}>\n          {this.wrapSortable(blockContent)}\n        </AnimateHeight>\n        <AddButton fieldId={fieldId} parentId={parentId} blockId={id}\n                   visible={canAdd} />\n      </>\n    );\n  }\n}\n\n\nexport default Block;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {Droppable} from 'react-beautiful-dnd';\nimport Block from './Block';\nimport AddButton from './AddButton';\nimport {getNestedBlockDefinition, isNA} from './processing/utils';\n\n\n@connect((state, props) => {\n  const {fieldId, id} = props;\n  const fieldData = state[fieldId];\n  const blocksIds = id === null ?\n    fieldData.rootBlocks\n    :\n    fieldData.blocks[id].value;\n  let minNum, maxNum;\n  if (id === null) {\n    minNum = fieldData.minNum;\n    maxNum = fieldData.maxNum;\n  } else {\n    const blockDefinition = getNestedBlockDefinition(state, fieldId, id);\n    minNum = blockDefinition.minNum;\n    maxNum = blockDefinition.maxNum;\n  }\n  if (isNA(minNum)) {\n    minNum = 0;\n  }\n  if (isNA(maxNum)) {\n    maxNum = Infinity;\n  }\n  return {\n    minNum, maxNum,\n    blocksIds: blocksIds,\n  };\n})\nclass BlocksContainer extends React.Component {\n  static propTypes = {\n    fieldId: PropTypes.string.isRequired,\n    id: PropTypes.string,\n  };\n\n  static defaultProps = {\n    id: null,\n  };\n\n  renderBlock(blockId, canAdd=true) {\n    return (\n      <Block key={blockId}\n             fieldId={this.props.fieldId}\n             id={blockId} canAdd={canAdd} />\n    );\n  }\n\n  static getClassName(snapshot) {\n    let className = 'children-container';\n    if (snapshot.isDraggingOver) {\n      className += ' is-dragging';\n    }\n    return className;\n  }\n\n  render() {\n    const {fieldId, id, blocksIds, maxNum} = this.props;\n    const droppableId = `${fieldId}-${id}`;\n    const num = blocksIds.length;\n    const canAdd = num < maxNum;\n    return (\n      <Droppable droppableId={droppableId} type={droppableId}>\n        {(provided, snapshot) => (\n          <div ref={provided.innerRef}\n               className={BlocksContainer.getClassName(snapshot)}>\n            <AddButton fieldId={fieldId} parentId={id}\n                       open={blocksIds.length === 0} visible={canAdd} />\n            {blocksIds.map(blockId => this.renderBlock(blockId, canAdd))}\n            {provided.placeholder}\n          </div>\n        )}\n      </Droppable>\n    );\n  }\n}\n\n\nexport default BlocksContainer;\n","import React  from 'react';\nimport PropTypes from 'prop-types';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {DragDropContext} from 'react-beautiful-dnd';\nimport {\n  moveBlock,\n  initializeStreamField,\n  setIsMobile\n} from './actions';\nimport {stateToValue} from './processing/conversions';\nimport {getIsMobile} from './processing/utils';\nimport BlocksContainer from './BlocksContainer';\n\n\nfunction lazyFunction(f) {\n  return function () {\n    return f().apply(this, arguments);\n  };\n}\n\n\nconst BlockDefinitionType = PropTypes.shape({\n  key: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  required: PropTypes.bool,\n  default: PropTypes.any,\n  icon: PropTypes.string,\n  group: PropTypes.string,\n  className: PropTypes.string,\n  minNum: PropTypes.number,\n  maxNum: PropTypes.number,\n  layout: PropTypes.oneOf(['SIMPLE', 'COLLAPSIBLE']),\n  closed: PropTypes.bool,\n  titleTemplate: PropTypes.string,\n  html: PropTypes.string,\n  isStruct: PropTypes.bool,\n  isStatic: PropTypes.bool,\n  dangerouslyRunInnerScripts: PropTypes.bool,\n  children: PropTypes.arrayOf(lazyFunction(() => BlockDefinitionType)),\n});\n\n\nconst BlockValueType = PropTypes.shape({\n  type: PropTypes.string.isRequired,\n  html: PropTypes.string,\n  hasError: PropTypes.bool,\n  value: PropTypes.oneOfType([\n    PropTypes.arrayOf(lazyFunction(() => BlockValueType)),\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n  ]),\n});\n\n\n@connect((state, props) => {\n  const {id} = props;\n  const fieldData = state[id];\n  return {\n    generatedValue: fieldData === undefined ? '' : stateToValue(state, id),\n    isMobile: fieldData === undefined ? null : fieldData.isMobile,\n  };\n}, (dispatch, props) => {\n  const {id} = props;\n  return bindActionCreators({\n    initializeStreamField: data => initializeStreamField(id, data),\n    setIsMobile: isMobile => setIsMobile(id, isMobile),\n    moveBlock: (blockId, newIndex) => moveBlock(id, blockId, newIndex),\n  }, dispatch);\n})\nclass StreamField extends React.Component {\n  static propTypes = {\n    id: PropTypes.string.isRequired,\n    required: PropTypes.bool,\n    minNum: PropTypes.number,\n    maxNum: PropTypes.number,\n    icons: PropTypes.shape({\n      moveUp: PropTypes.string,\n      moveDown: PropTypes.string,\n      duplicate: PropTypes.string,\n      delete: PropTypes.string,\n      grip: PropTypes.string,\n    }),\n    blockDefinitions: PropTypes.arrayOf(BlockDefinitionType).isRequired,\n    value: PropTypes.arrayOf(BlockValueType).isRequired,\n  };\n\n  static defaultProps = {\n    required: false,\n    minNum: 0,\n    maxNum: Infinity,\n  };\n\n  onWindowResize = () => {\n    const value = getIsMobile();\n    if (value !== this.props.isMobile) {\n      this.props.setIsMobile(value);\n    }\n  };\n\n  onDragEnd = result => {\n    const {draggableId, source, destination} = result;\n    if (!destination || (result.reason === 'CANCEL')\n        || (destination.droppableId !== source.droppableId)\n        || (destination.index === source.index)) {\n      return;\n    }\n    this.props.moveBlock(draggableId, destination.index);\n  };\n\n  componentWillMount() {\n    // Removes the input with the same name if it exists.\n    const input = document.querySelector(`[name=\"${this.props.id}\"]`);\n    if (input !== null) {\n      input.parentNode.removeChild(input);\n    }\n  }\n\n  componentDidMount() {\n    const {\n      initializeStreamField, required, minNum, maxNum, icons, blockDefinitions,\n      value,\n    } = this.props;\n    initializeStreamField({\n      required, minNum, maxNum, icons, blockDefinitions,\n      isMobile: getIsMobile(),\n      value,\n    });\n    window.addEventListener('resize', this.onWindowResize);\n  }\n\n  render() {\n    const {id, generatedValue} = this.props;\n    return (\n      <DragDropContext onDragEnd={this.onDragEnd}>\n      {generatedValue ? (<BlocksContainer fieldId={id} />) : null}\n\n        <input type=\"hidden\" name={id}\n               value={JSON.stringify(generatedValue)} />\n      </DragDropContext>\n    );\n  }\n}\n\n\nexport default StreamField;\n","import {\n  applyToBlocks,\n  getBlockDefinition,\n  getChildrenIds,\n  getDescendantsIds,\n  getNestedBlockDefinition,\n  getNewBlock, getNewId,\n  isField,\n  isStruct,\n} from './utils';\n\n\nexport const updateChildren = (state, fieldId, parentId) => {\n  const childrenIds = getChildrenIds(state, fieldId, parentId);\n  return applyToBlocks(state, fieldId, childrenIds, block => ({\n    ...block,\n    shouldUpdate: true,\n  }));\n};\n\n\nexport const setChildren = (state, fieldId, parentId, childrenIds) => {\n  let fieldData = state[fieldId];\n  let blocks = fieldData.blocks;\n  if (parentId === null) {\n    fieldData = {...fieldData, rootBlocks: childrenIds};\n  } else {\n    blocks = {\n      ...blocks,\n      [parentId]: {...blocks[parentId], value: childrenIds},\n    };\n  }\n  return {\n    ...state,\n    [fieldId]: {\n      ...fieldData,\n      blocks: blocks,\n    },\n  };\n};\n\n\nexport const insertBlock = (state, fieldId, parentId, index,\n                            blockId, block) => {\n  const siblingsIds = [...getChildrenIds(state, fieldId, parentId)];\n  siblingsIds.splice(index, 0, blockId);\n  state = setChildren(state, fieldId, parentId, siblingsIds);\n\n  const fieldData = state[fieldId];\n  const blocks = fieldData.blocks;\n  state = {\n    ...state,\n    [fieldId]: {\n      ...fieldData,\n      blocks: {\n        ...blocks,\n        [blockId]: block,\n      },\n    },\n  };\n  return updateChildren(state, fieldId, parentId);\n};\n\n\nexport const moveBlock = (state, fieldId, blockId, newIndex) => {\n  if (newIndex < 0) {\n    throw new Error(`Index ${newIndex} is out of bounds.`);\n  }\n  const fieldData = state[fieldId];\n  let blocks = fieldData.blocks;\n  const block = blocks[blockId];\n  const siblingsIds = [...getChildrenIds(state, fieldId, block.parent)];\n\n  if (newIndex >= siblingsIds.length) {\n    throw new Error(`Index ${newIndex} is out of bounds.`);\n  }\n\n  const oldIndex = siblingsIds.indexOf(blockId);\n  siblingsIds.splice(oldIndex, 1);\n  siblingsIds.splice(newIndex, 0, blockId);\n\n  state = setChildren(state, fieldId, block.parent, siblingsIds);\n  return updateChildren(state, fieldId, block.parent);\n};\n\n\nexport const addBlock = (state, fieldId, parentId, index, type) => {\n  const fieldData = state[fieldId];\n  let blockDefinitions;\n  if (parentId === null) {\n    blockDefinitions = fieldData.blockDefinitions;\n  } else {\n    const parentBlockDefinition = getNestedBlockDefinition(state, fieldId,\n                                                           parentId);\n    blockDefinitions = parentBlockDefinition.children;\n  }\n  const blockDefinition = getBlockDefinition(blockDefinitions, type);\n  const [blockId, block, extraBlocks] = getNewBlock(parentId, blockDefinition);\n  state = {\n    ...state,\n    [fieldId]: {\n      ...fieldData,\n      blocks: {\n        ...fieldData.blocks,\n        ...extraBlocks,\n      },\n    },\n  };\n  return insertBlock(state, fieldId, parentId, index, blockId, block);\n};\n\n\nexport const getIndex = (state, fieldId, blockId) => {\n  const block = state[fieldId].blocks[blockId];\n  const siblingsIds = [...getChildrenIds(state, fieldId, block.parent)];\n  return siblingsIds.indexOf(blockId);\n};\n\n\nexport const cloneBlock = (state, fieldId, parentId, blockId) => {\n  const fieldData = state[fieldId];\n  const blocks = {...fieldData.blocks};\n  const newBlockId = getNewId();\n  const newBlock = {...blocks[blockId], parent: parentId};\n  let newBlocks = {[newBlockId]: newBlock};\n  const blockDefinition = getNestedBlockDefinition(state, fieldId, blockId);\n  let value = newBlock.value;\n\n  if (isStruct(blockDefinition)) {\n    const newValue = [];\n    for (let childBlockId of value) {\n      let [newChildId, newChildrenBlocks] =\n        cloneBlock(state, fieldId, newBlockId, childBlockId);\n      newBlocks = {...newBlocks, ...newChildrenBlocks};\n      newValue.push(newChildId);\n    }\n    value = newValue;\n  } else if (!isField(blockDefinition)) {\n    const newValue = [];\n    for (let childBlockId of value) {\n      const [newChildBlockId, newChildrenBlocks] =\n        cloneBlock(state, fieldId, newBlockId, childBlockId);\n      newValue.push(newChildBlockId);\n      newBlocks = {...newBlocks, ...newChildrenBlocks};\n    }\n    value = newValue;\n  }\n  newBlock.value = value;\n  return [newBlockId, newBlocks];\n};\n\n\nexport const duplicateBlock = (state, fieldId, blockId) => {\n  const fieldData = state[fieldId];\n  const blocks = fieldData.blocks;\n  const parentId = blocks[blockId].parent;\n  const [newBlockId, newBlocks] =\n    cloneBlock(state, fieldId, parentId, blockId);\n  state = {\n    ...state,\n    [fieldId]: {\n      ...fieldData,\n      blocks: {\n        ...blocks,\n        ...newBlocks,\n      },\n    },\n  };\n  const block = newBlocks[newBlockId];\n  block.hidden = true;\n  const index = getIndex(state, fieldId, blockId) + 1;  // + 1 to add after.\n  return insertBlock(state, fieldId, parentId, index, newBlockId, block);\n};\n\n\nexport const deleteBlock = (state, fieldId, blockId) => {\n  const fieldData = state[fieldId];\n  let rootBlocks = [...fieldData.rootBlocks];\n  const blocks = {...fieldData.blocks};\n  const block = blocks[blockId];\n  let shouldUpdateSiblings = true;\n  if (block.parent === null) {\n    rootBlocks = rootBlocks.filter(childBlockId => childBlockId !== blockId);\n  } else {\n    const parentBlockDefinition = getNestedBlockDefinition(state, fieldId,\n                                                           block.parent);\n    const parentBlock = blocks[block.parent];\n    if (isStruct(parentBlockDefinition)) {\n      shouldUpdateSiblings = false;\n    }\n    blocks[block.parent] = {\n      ...parentBlock,\n      closed: false,       // We make sure it’s open for when we remove\n      shouldUpdate: true,  // an errored block from a list block, and we\n                           // force update the header color.\n      value: parentBlock.value.filter(\n        childBlockId => childBlockId !== blockId),\n    };\n  }\n  for (let descendantBlockId of getDescendantsIds(state, fieldId, blockId,\n                                                  true)) {\n    delete blocks[descendantBlockId];\n  }\n  state = {\n    ...state,\n    [fieldId]: {\n      ...fieldData,\n      rootBlocks,\n      blocks,\n    },\n  };\n  if (shouldUpdateSiblings) {\n    return updateChildren(state, fieldId, block.parent);\n  }\n  return state;\n};\n","import React from 'react';\nimport {\n  addBlock,\n  deleteBlock,\n  duplicateBlock,\n  moveBlock\n} from './processing/actions';\nimport {valueToState} from './processing/conversions';\nimport {\n  applyToBlock,\n  deepCopy,\n  getNestedBlockDefinition, isStruct\n} from './processing/utils';\n\n\nconst initialState = {};\n\n\nexport default (state=initialState, action) => {\n  switch (action.type) {\n    case 'INITIALIZE_STREAM_FIELD': {\n      const data = deepCopy(action.data);\n      const {\n        required, minNum, maxNum, icons, blockDefinitions, isMobile, value,\n      } = data;\n      state = {\n        ...state,\n        [action.id]: {\n          required, minNum, maxNum, icons, blockDefinitions, isMobile,\n        },\n      };\n      return valueToState(state, action.id, value);\n    }\n    case 'SET_IS_MOBILE': {\n      return {\n        ...state,\n        [action.id]: {\n          ...state[action.id],\n          isMobile: action.isMobile,\n        }\n      };\n    }\n    case 'BLOCK_UPDATED': {\n      const {fieldId, blockId} = action;\n      return applyToBlock(state, fieldId, blockId, block => ({\n        ...block,\n        shouldUpdate: false,\n      }));\n    }\n    case 'CHANGE_BLOCK_VALUES': {\n      const {fieldId, blockId, value} = action;\n      state = applyToBlock(state, fieldId, blockId, block => ({\n        ...block,\n        value: value,\n        shouldUpdate: true,\n      }));\n      const blocks = state[fieldId].blocks;\n      const block = blocks[blockId];\n      const parentBlockId = block.parent;\n      if (parentBlockId !== null) {\n        const parentBlockDefinition = getNestedBlockDefinition(state, fieldId,\n          parentBlockId);\n        if (isStruct(parentBlockDefinition)) {\n          state = applyToBlock(state, fieldId, parentBlockId, block => ({\n            ...block,\n            shouldUpdate: true,\n          }));\n        }\n      }\n      return state;\n    }\n    case 'TOGGLE_BLOCK': {\n      const {fieldId, blockId} = action;\n      return applyToBlock(state, fieldId, blockId, block => ({\n        ...block,\n        closed: block.closed === undefined ? false : !block.closed,\n        shouldUpdate: true,\n      }));\n    }\n    case 'SHOW_BLOCK': {\n      const {fieldId, blockId} = action;\n      return applyToBlock(state, fieldId, blockId, block => ({\n        ...block,\n        hidden: false,\n        shouldUpdate: true,\n      }));\n    }\n    case 'HIDE_BLOCK': {\n      const {fieldId, blockId} = action;\n      return applyToBlock(state, fieldId, blockId, block => ({\n        ...block,\n        hidden: true,\n        shouldUpdate: true,\n      }));\n    }\n    case 'ADD_BLOCK': {\n      const {fieldId, parentId, index, blockType} = action;\n      return addBlock(state, fieldId, parentId, index, blockType);\n    }\n    case 'DUPLICATE_BLOCK': {\n      const {fieldId, blockId} = action;\n      return duplicateBlock(state, fieldId, blockId);\n    }\n    case 'MOVE_BLOCK': {\n      const {fieldId, blockId, newIndex} = action;\n      return moveBlock(state, fieldId, blockId, newIndex);\n    }\n    case 'DELETE_BLOCK': {\n      return deleteBlock(state, action.fieldId, action.blockId);\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import {\n  getBlockDefinition,\n  getNestedBlockDefinition,\n  isField,\n  isStruct,\n  getNewBlock, getNewId, isClosed, getIsMobile, isNA,\n} from './utils';\n\n\nexport const getNestedBlocksState = (parentBlockId, blockDefinitions,\n                                     blocks) => {\n  const childrenBlocksIds = [];\n  let blocksState = {};\n  let descendantsBlocksState = {};\n\n  for (let block of blocks) {\n    const blockId = block.id === undefined ? getNewId() : block.id;\n    const blockDefinition = blockDefinitions.length === 1 ?\n      blockDefinitions[0] : getBlockDefinition(blockDefinitions, block.type);\n    const blockIsField = isField(blockDefinition);\n    let value = block.value;\n    if (!blockIsField) {\n      if (isNA(value)) {\n        value = [];\n      }\n      if (isStruct(blockDefinition)) {\n        for (let childBlockDefinition of blockDefinition.children) {\n          const childBlockType = childBlockDefinition.key;\n          const childBlock = value.find(\n            childBlock => childBlock.type === childBlockType);\n          if (childBlock === undefined) {\n            let [childBlockId, childBlock, extraBlocks] =\n              getNewBlock(blockId, childBlockDefinition);\n            blocksState = {\n              ...blocksState,\n              ...extraBlocks,\n              [childBlockId]: childBlock,\n            };\n            value.push({id: childBlockId, ...childBlock});\n          }\n        }\n      }\n      [value, descendantsBlocksState] = getNestedBlocksState(\n        blockId, blockDefinition.children, value);\n      blocksState = {\n        ...blocksState,\n        ...descendantsBlocksState,\n      };\n    }\n    childrenBlocksIds.push(blockId);\n    blocksState[blockId] = {\n      parent: parentBlockId,\n      type: blockDefinition.key,\n      html: block.html,\n      hasError: block.hasError,\n      value: value,\n      hidden: false,\n      closed: isClosed(blockDefinition, getIsMobile()),\n      shouldUpdate: false,\n      isField: blockIsField,\n    };\n  }\n\n  return [childrenBlocksIds, blocksState];\n};\n\n\nexport const valueToState = (prevState, fieldId, value) => {\n  const [rootBlocks, blocks] = getNestedBlocksState(\n    null, prevState[fieldId].blockDefinitions, value);\n\n  // Delete internal field created only for browsing data.\n  for (let block of Object.values(blocks)) {\n    delete block['isField'];\n  }\n\n  return {\n    ...prevState,\n    [fieldId]: {\n      ...prevState[fieldId],\n      rootBlocks: rootBlocks,\n      blocks: blocks,\n    },\n  };\n};\n\n\nexport const extractValue = (state, fieldId, blockId) => {\n  const blocks = state[fieldId].blocks;\n  const block = blocks[blockId];\n  let value = block.value;\n  const blockDefinition = getNestedBlockDefinition(state, fieldId, blockId);\n  if (!isField(blockDefinition)) {\n    value = value.map(childBlockId => extractValue(state, fieldId,\n                                                   childBlockId));\n  }\n  return {\n    id: blockId,\n    type: block.type,\n    value: value,\n  };\n};\n\n\nexport const stateToValue = (state, fieldId) => {\n  const fieldData = state[fieldId];\n  return fieldData.rootBlocks.map(\n    blockId => extractValue(state, fieldId, blockId));\n};\n"],"sourceRoot":""}